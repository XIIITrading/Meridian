const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dl-U6wg9.js","./DOFFjK0_.js","./entry.DDfSYhWa.css","./AdvanceColorPicker.BPg1JaQv.css"])))=>i.map(i=>d[i]);
import{a9 as et,S as Ot,W as xt,a8 as Ke,V as ut,f as Qe,am as rt,G as Ve,gh as $t,n as le,hd as zt,he as Nt,a4 as re,a5 as Me,gn as qe,bW as vt,aj as z,h2 as Dt,g1 as jt,il as Tt,gW as Ft,gU as Bt,U as Ut,jc as Ht,a6 as qt,u as Gt,J as Wt,r as M,cd as Jt,gj as Kt,as as Pt,hf as ct,b0 as ft,cg as Qt,cf as Xt,h7 as pt,aH as Yt,bJ as Zt,aE as At,em as bt,jA as nt,X as Mt,aQ as it,jB as wt,jC as tt,fZ as kt,gJ as lt,gY as Et,jD as Vt,aC as eo,du as to,ik as oo,jE as ao,jF as io,jG as gt,fS as mt,gR as yt,aD as no,b3 as so,c as Ne,o as ve,a as we,e as lo,T as uo,ak as ro,aZ as vo,gy as co,g as fo,$ as st,eN as po,K as He,cn as ot,ag as Ye,L as y,an as ht,b as Ie,aG as wo,w as fe,bh as Xe,I as Te,aJ as go,M as mo,aS as yo,ar as ho,a3 as _t,N as Ze,aT as be,b9 as ke,a1 as Rt,aw as _o,t as Ge,O as Ro,d as Je,ap as So,aW as Co,_ as Io}from"./DOFFjK0_.js";import{D as Oo}from"./BhfICdUA.js";import{Y as St}from"./RfUK_fd6.js";import{u as dt}from"./DG2ZEhLK.js";import{u as Do}from"./BYGCxle3.js";import{p as Ct,r as Ae,h as We,d as It,e as je,c as Po}from"./D2QgEzTv.js";function Ao(S){const{meta:a,viewMeta:D,formattedData:R,paginationData:f,callbacks:e}=S,{t:ee}=et(),{getMeta:Se,metas:xe}=Ot(),{addUndo:ye,clone:b,defineViewScope:Le}=xt(),{base:k}=Ke(ut()),{$api:ne}=Qe(),{isPaginationLoading:se}=Ke(rt()),Z=Ve($t),_e=le({get(){return!!R.value.length&&R.value.every(s=>s.rowMeta.selected)},set(s){R.value.forEach(u=>u.rowMeta.selected=s)}});function Q(s=R.value.length,u=a.value){return R.value.splice(s,0,{row:{...Po(u==null?void 0:u.columns)},oldRow:{},rowMeta:{new:!0}}),R.value[s]}async function O(s,u={},{metaValue:r=a.value,viewMetaValue:C=D.value}={},h=!1){var q,B;const L=s.row;s.rowMeta&&(s.rowMeta.saving=!0);try{const{missingRequiredColumns:j,insertObj:t}=await Ct({meta:r,ltarState:u,getMeta:Se,row:L,undo:h});if(j.size)return;const n=await ne.dbViewRow.create(qe,(r==null?void 0:r.base_id)??(k==null?void 0:k.value.id),r==null?void 0:r.id,C==null?void 0:C.id,{...t,...u||{}});if(await(Z==null?void 0:Z.trigger()),!h){Object.assign(s,{row:{...n,...L},rowMeta:{...s.rowMeta||{},new:void 0},oldRow:{...n}});const o=je(n,r==null?void 0:r.columns),i=Ae(n,r==null?void 0:r.columns),c=We(i,R.value);ye({redo:{fn:async function(d,m,I){var F,ae;d.row={...i,...d.row};const P=await O(d,m,void 0,!0);c!==-1&&I.pageSize===f.value.pageSize?I.page===f.value.page?R.value.splice(c,0,{row:{...d,...P},rowMeta:d.rowMeta,oldRow:d.oldRow}):await((F=e==null?void 0:e.changePage)==null?void 0:F.call(e,I.page)):await((ae=e==null?void 0:e.loadData)==null?void 0:ae.call(e))},args:[b(s),b(u),{page:f.value.page,pageSize:f.value.pageSize}]},undo:{fn:async function(d){await W(d),c!==-1&&R.value.splice(c,1),f.value.totalRows=f.value.totalRows-1},args:[o]},scope:Le({view:D.value})})}return await((q=e==null?void 0:e.syncCount)==null?void 0:q.call(e)),n}catch(j){re.error(await Me(j))}finally{s.rowMeta&&(s.rowMeta.saving=!1),await((B=e==null?void 0:e.globalCallback)==null?void 0:B.call(e))}}async function ge(s,{metaValue:u=a.value,viewMetaValue:r=D.value}={},C=!1){var L,q,B;se.value=!0;const h=b((u==null?void 0:u.columns)||[]).filter(j=>!j.pk&&(zt(j)||Nt(j))).map(j=>j.title);try{const j=((L=await Promise.all(s.map(async n=>{const{missingRequiredColumns:o,insertObj:i}=await Ct({meta:u,ltarState:{},getMeta:Se,row:n.row,undo:C});if(o.size===0)return h.forEach(c=>delete i[c]),i})))==null?void 0:L.filter(Boolean))??[],t=await ne.dbDataTableRow.create(u==null?void 0:u.id,j,{viewId:r==null?void 0:r.id});return await((q=e==null?void 0:e.syncCount)==null?void 0:q.call(e)),t}catch(j){re.error(await Me(j))}finally{await((B=e==null?void 0:e.globalCallback)==null?void 0:B.call(e)),se.value=!1}}async function T(s,u,{metaValue:r=a.value,viewMetaValue:C=D.value}={},h=!1){var L;s.rowMeta&&(s.rowMeta.saving=!0);try{const q=je(s.row,r==null?void 0:r.columns),B=await ne.dbViewRow.update(qe,(r==null?void 0:r.base_id)??(k==null?void 0:k.value.id),r==null?void 0:r.id,C==null?void 0:C.id,encodeURIComponent(q),{[u]:s.row[u]??null});return await(Z==null?void 0:Z.trigger({fields:[{title:u}]})),h||(ye({redo:{fn:async function(t,n,o){var c,g,d;const i=await T(t,n,void 0,!0);if(o.page===f.value.page&&o.pageSize===f.value.pageSize){const m=We(Ae(t.row,(c=a==null?void 0:a.value)==null?void 0:c.columns),R.value);if(m!==-1){const I=R.value[m];Object.assign(I.row,i),Object.assign(I.oldRow,i)}else await((g=e==null?void 0:e.loadData)==null?void 0:g.call(e))}else await((d=e==null?void 0:e.changePage)==null?void 0:d.call(e,o.page))},args:[b(s),u,{page:f.value.page,pageSize:f.value.pageSize}]},undo:{fn:async function(t,n,o){var c,g,d;const i=await T({row:t.oldRow,oldRow:t.row,rowMeta:t.rowMeta},n,void 0,!0);if(o.page===f.value.page&&o.pageSize===f.value.pageSize){const m=We(Ae(t.row,(c=a==null?void 0:a.value)==null?void 0:c.columns),R.value);if(m!==-1){const I=R.value[m];Object.assign(I.row,i),Object.assign(I.oldRow,i)}else await((g=e==null?void 0:e.loadData)==null?void 0:g.call(e))}else await((d=e==null?void 0:e.changePage)==null?void 0:d.call(e,o.page))},args:[b(s),u,{page:f.value.page,pageSize:f.value.pageSize}]},scope:Le({view:D.value})}),Object.assign(s.row,r.columns.reduce((j,t)=>(t.title in B&&(t.uidt===z.Formula||t.uidt===z.QrCode||t.uidt===z.Barcode||t.uidt===z.Rollup||t.uidt===z.Checkbox||t.uidt===z.User||t.uidt===z.LastModifiedTime||t.uidt===z.LastModifiedBy||t.uidt===z.Lookup||t.uidt===z.Button||t.uidt===z.Attachment||Dt(t)||t.au||jt(t==null?void 0:t.cdf)&&/ on update /i.test(t.cdf))&&(j[t.title]=B[t.title]),j),{})),Object.assign(s.oldRow,B)),await((L=e==null?void 0:e.globalCallback)==null?void 0:L.call(e)),B}catch(q){s.row[u]=s.oldRow[u],re.error(`${ee("msg.error.rowUpdateFailed")}: ${await Me(q)}`)}finally{s.rowMeta&&(s.rowMeta.saving=!1)}}async function me(s,u,r,C={}){if(s.rowMeta&&(s.rowMeta.changed=!1),await vt(()=>{var h,L;return!((h=s.rowMeta)!=null&&h.new&&((L=s.rowMeta)!=null&&L.saving))}).toMatch(h=>h),s.rowMeta.new)return await O(s,r,C);u&&await T(s,u,C)}async function K(s,u,{metaValue:r=a.value,viewMetaValue:C=D.value}={},h=!1){var B,j;const L=[];for(const t of s)t.rowMeta&&(t.rowMeta.changed=!1),L.push(vt(()=>{var n,o;return!((n=t.rowMeta)!=null&&n.new&&((o=t.rowMeta)!=null&&o.saving))}).toMatch(n=>n));await Promise.all(L);const q=[];for(const t of s){t.rowMeta&&(t.rowMeta.saving=!0);const n=Ae(t.row,r==null?void 0:r.columns),o=u.reduce((i,c)=>(i[c]=t.row[c],i),{});q.push({...o,...n})}await ne.dbTableRow.bulkUpdate(qe,r==null?void 0:r.base_id,r==null?void 0:r.id,q),await(Z==null?void 0:Z.trigger({fields:u.map(t=>({title:t}))})),h||ye({redo:{fn:async function(n,o,i){var c,g,d;if(await K(n,o,{metaValue:r,viewMetaValue:C},!0),i.page===f.value.page&&i.pageSize===f.value.pageSize)for(const m of n){const I=We(Ae(m.row,(c=a==null?void 0:a.value)==null?void 0:c.columns),R.value);if(I!==-1){const P=R.value[I];Object.assign(P.row,m.row),Object.assign(P.oldRow,m.row)}else{await((g=e==null?void 0:e.loadData)==null?void 0:g.call(e));break}}else await((d=e==null?void 0:e.changePage)==null?void 0:d.call(e,i.page))},args:[b(s),b(u),{page:f.value.page,pageSize:f.value.pageSize}]},undo:{fn:async function(n,o,i){var c,g,d;if(await K(n,o,{metaValue:r,viewMetaValue:C},!0),i.page===f.value.page&&i.pageSize===f.value.pageSize)for(const m of n){const I=We(Ae(m.row,(c=a==null?void 0:a.value)==null?void 0:c.columns),R.value);if(I!==-1){const P=R.value[I];Object.assign(P.row,m.row),Object.assign(P.oldRow,m.row)}else{await((g=e==null?void 0:e.loadData)==null?void 0:g.call(e));break}}else await((d=e==null?void 0:e.changePage)==null?void 0:d.call(e,i.page))},args:[b(s.map(t=>({row:t.oldRow,oldRow:t.row,rowMeta:t.rowMeta}))),u,{page:f.value.page,pageSize:f.value.pageSize}]},scope:Le({view:C})});for(const t of s)t.rowMeta&&(t.rowMeta.saving=!1);r.columns.some(t=>[z.QrCode,z.LastModifiedTime,z.Barcode,z.Formula,z.Lookup,z.Rollup,z.LinkToAnotherRecord,z.LastModifiedBy].includes(t.uidt))&&await((B=e==null?void 0:e.loadData)==null?void 0:B.call(e)),await((j=e==null?void 0:e.globalCallback)==null?void 0:j.call(e))}async function he(s,{metaValue:u=a.value,viewMetaValue:r=D.value}={}){var C,h;r&&(await ne.dbTableRow.bulkUpdateAll(qe,u==null?void 0:u.base_id,u==null?void 0:u.id,s,{viewId:r.id}),await(Z==null?void 0:Z.trigger()),await((C=e==null?void 0:e.loadData)==null?void 0:C.call(e)),await((h=e==null?void 0:e.globalCallback)==null?void 0:h.call(e)))}const te=async(s,u,r,C,{metaValue:h=a.value}={})=>{try{await ne.dbTableRow.nestedAdd(qe,(h==null?void 0:h.base_id)??k.value.id,h==null?void 0:h.id,encodeURIComponent(s),C,r.title,encodeURIComponent(u))}catch(L){re.error(await Me(L))}},Re=async(s,{metaValue:u=a.value}={})=>{var C;const r=je(s,u==null?void 0:u.columns);for(const h of(u==null?void 0:u.columns)??[]){if(h.uidt!==z.LinkToAnotherRecord)continue;const L=h.colOptions,q=(C=xe.value)==null?void 0:C[L==null?void 0:L.fk_related_model_id];if(Tt(h)||Ft(h)){const B=s[h.title]??[];for(const j of B)await te(r,je(j,q.columns),h,L.type,{metaValue:u})}else Bt(h)&&s[h.title]&&await te(r,je(s[h.title],q.columns),h,L.type,{metaValue:u})}};async function W(s,{metaValue:u=a.value,viewMetaValue:r=D.value}={}){if(!s)throw new Error("Delete not allowed for table which doesn't have primary Key");const C=await ne.dbViewRow.delete("noco",(u==null?void 0:u.base_id)??k.value.id,u==null?void 0:u.id,r==null?void 0:r.id,encodeURIComponent(s));return await(Z==null?void 0:Z.trigger()),C.message?(re.info(`Record delete failed: ${`Unable to delete record with ID ${s} because of the following:
              
${C.message.join(`
`)}.

              Clear the data first & try again`})}`),!1):!0}async function oe(s,u){var r,C,h,L,q;try{const B=R.value[s];if(!B.rowMeta.new){const j=je(B.row,(r=a==null?void 0:a.value)==null?void 0:r.columns),t=await ne.dbTableRow.read(qe,((C=a.value)==null?void 0:C.base_id)??(k==null?void 0:k.value.id),(h=a.value)==null?void 0:h.id,encodeURIComponent(j),{getHiddenColumn:!0});if(B.row=t,!await W(j))return;u||ye({redo:{fn:async function(i){var d;await W(i);const c=Ae(B.row,(d=a==null?void 0:a.value)==null?void 0:d.columns),g=We(c,R.value);g!==-1&&R.value.splice(g,1),f.value.totalRows=f.value.totalRows-1},args:[j]},undo:{fn:async function(i,c,g){var m,I,P;const d=Ae(i.row,(m=a.value)==null?void 0:m.columns);i.row={...d,...i.row},await O(i,c,{},!0),Re(i.row),s!==-1&&g.pageSize===f.value.pageSize?g.page===f.value.page?R.value.splice(s,0,i):await((I=e==null?void 0:e.changePage)==null?void 0:I.call(e,g.page)):await((P=e==null?void 0:e.loadData)==null?void 0:P.call(e))},args:[b(B),{},{page:f.value.page,pageSize:f.value.pageSize}]},scope:Le({view:D.value})})}R.value.splice(s,1),await((L=e==null?void 0:e.syncCount)==null?void 0:L.call(e))}catch(B){re.error(`${ee("msg.error.deleteRowFailed")}: ${await Me(B)}`)}await((q=e==null?void 0:e.globalCallback)==null?void 0:q.call(e))}async function X(){var h,L,q,B,j,t,n,o;let s=R.value.length;const u=[];let r="";for(;s--;){const{row:i,rowMeta:c}=R.value[s];if(c.selected&&!c.new){const g=It((h=a==null?void 0:a.value)==null?void 0:h.columns),d=je(i,(L=a==null?void 0:a.value)==null?void 0:L.columns),m=Ae(i,(q=a==null?void 0:a.value)==null?void 0:q.columns);g&&d&&(r||(r=g),u.push({[r]:d,pkData:m,row:b(R.value[s]),rowIndex:s}))}}if(!u.length)return;se.value=!0;const{list:C}=await ne.dbTableRow.list(qe,k==null?void 0:k.value.id,(B=a.value)==null?void 0:B.id,{pks:u.map(i=>i[r]).join(",")});try{for(const i of u){const c=i.row,g=Ae(c.row,(j=a==null?void 0:a.value)==null?void 0:j.columns),d=C.find(m=>Object.keys(g).every(I=>g[I]===m[I]));c.row=b(d)}await Oe(u.map(i=>i.pkData))}catch(i){return re.error(`${ee("msg.error.deleteRowFailed")}: ${await Me(i)}`)}if(!u.length){se.value=!1;return}ye({redo:{fn:async function(c){var d,m,I,P;se.value=!0;const g=await Oe(c.map(F=>F.pkData));if(Array.isArray(g))for(const{row:F}of c){const ae=Ae(F.row,(d=a==null?void 0:a.value)==null?void 0:d.columns),E=We(ae,R.value);E!==-1&&R.value.splice(E,1),f.value.totalRows=f.value.totalRows-1}await((m=e==null?void 0:e.syncCount)==null?void 0:m.call(e)),await((I=e==null?void 0:e.syncPagination)==null?void 0:I.call(e)),await((P=e==null?void 0:e.globalCallback)==null?void 0:P.call(e))},args:[u]},undo:{fn:async function(c,g){var I,P;const d=c.map(F=>{var E;const ae=Ae(F.row,(E=a.value)==null?void 0:E.columns);return F.row={...ae,...F.row},F}).reverse(),m=await ge(d.map(F=>F.row),void 0,!0);if(Array.isArray(m))for(const{row:F,rowIndex:ae}of d)Re(F.row),ae!==-1&&g.pageSize===f.value.pageSize?g.page===f.value.page?R.value.splice(ae,0,F):await((I=e==null?void 0:e.changePage)==null?void 0:I.call(e,g.page)):await((P=e==null?void 0:e.loadData)==null?void 0:P.call(e))},args:[u,{page:f.value.page,pageSize:f.value.pageSize}]},scope:Le({view:D.value})}),await((t=e==null?void 0:e.syncCount)==null?void 0:t.call(e)),await((n=e==null?void 0:e.syncPagination)==null?void 0:n.call(e)),await((o=e==null?void 0:e.globalCallback)==null?void 0:o.call(e))}async function ce(s){var B,j,t,n,o,i,c,g;if(!s._start||!s._end)return;const u=Math.max(s._start.row,s._end.row),r=Math.min(s._start.row,s._end.row);let C=u+1;const h=[];let L="";for(;C--;){try{const{row:d,rowMeta:m}=R.value[C];if(!m.new){const I=It((B=a==null?void 0:a.value)==null?void 0:B.columns),P=je(d,(j=a==null?void 0:a.value)==null?void 0:j.columns),F=Ae(d,(t=a==null?void 0:a.value)==null?void 0:t.columns);I&&P&&(L||(L=I),h.push({[L]:P,pkData:F,row:b(R.value[C]),rowIndex:C}))}}catch(d){return re.error(`${ee("msg.error.deleteRowFailed")}: ${await Me(d)}`)}if(C===r)break}if(!h.length)return;se.value=!0;const{list:q}=await ne.dbTableRow.list(qe,k==null?void 0:k.value.id,(n=a.value)==null?void 0:n.id,{pks:h.map(d=>d[L]).join(",")});try{for(const d of h){const m=d.row,I=Ae(m.row,(o=a==null?void 0:a.value)==null?void 0:o.columns),P=q.find(F=>Object.keys(I).every(ae=>I[ae]===F[ae]));m.row=b(P)}await Oe(h.map(d=>d.pkData))}catch(d){return re.error(`${ee("msg.error.deleteRowFailed")}: ${await Me(d)}`)}if(!h.length){se.value=!1;return}ye({redo:{fn:async function(m){var P,F,ae,E;se.value=!0;const I=await Oe(m.map(l=>l.pkData));if(Array.isArray(I))for(const{row:l}of m){const _=Ae(l.row,(P=a==null?void 0:a.value)==null?void 0:P.columns),p=We(_,R.value);p!==-1&&R.value.splice(p,1),f.value.totalRows=f.value.totalRows-1}await((F=e==null?void 0:e.syncCount)==null?void 0:F.call(e)),await((ae=e==null?void 0:e.syncPagination)==null?void 0:ae.call(e)),await((E=e==null?void 0:e.globalCallback)==null?void 0:E.call(e))},args:[h]},undo:{fn:async function(m,I){var ae,E;const P=m.map(l=>{var p;const _=Ae(l.row,(p=a.value)==null?void 0:p.columns);return l.row={..._,...l.row},l}).reverse(),F=await ge(P.map(l=>l.row),void 0,!0);if(Array.isArray(F))for(const{row:l,rowIndex:_}of P)Re(l.row),_!==-1&&I.pageSize===f.value.pageSize?I.page===f.value.page?R.value.splice(_,0,l):await((ae=e==null?void 0:e.changePage)==null?void 0:ae.call(e,I.page)):await((E=e==null?void 0:e.loadData)==null?void 0:E.call(e))},args:[h,{page:f.value.page,pageSize:f.value.pageSize}]},scope:Le({view:D.value})}),await((i=e==null?void 0:e.syncCount)==null?void 0:i.call(e)),await((c=e==null?void 0:e.syncPagination)==null?void 0:c.call(e)),await((g=e==null?void 0:e.globalCallback)==null?void 0:g.call(e))}async function Oe(s,{metaValue:u=a.value,viewMetaValue:r=D.value}={}){try{const C=await ne.dbDataTableRow.delete(u==null?void 0:u.id,s.length===1?s[0]:s,{viewId:r==null?void 0:r.id});return await(Z==null?void 0:Z.trigger()),s.length===1&&C?[C]:C}catch(C){re.error(await Me(C))}}return{insertRow:O,updateRowProperty:T,addEmptyRow:Q,deleteRow:oe,deleteRowById:W,deleteSelectedRows:X,deleteRangeOfRows:ce,updateOrSaveRow:me,bulkUpdateRows:K,bulkUpdateView:he,selectedAllRecords:_e,removeRowIfNew:s=>{const u=R.value.indexOf(s);return u>-1&&s.rowMeta.new?(R.value.splice(u,1),!0):!1},bulkDeleteRows:Oe,bulkInsertRows:ge}}const Mo=S=>S.map(a=>({row:{...a},oldRow:{...a},rowMeta:{}}));function Lo(S,a,D){const R=Ut(),{activeTableId:f,activeTable:e}=Ke(R),ee=le(()=>S.value||e.value),Se=le(()=>{var A;return((A=S.value)==null?void 0:A.id)||f.value}),{t:xe}=et(),ye=Ht("optimisedQuery",()=>!0),{api:b,isLoading:Le,error:k}=qt(),ne=Gt(),se=ne.currentRoute,{appInfo:Z,gridViewPageSize:_e}=Wt(),{isAllowed:Q}=Do(),O=_e.value||Z.value.defaultLimit||25,ge=M({page:1,pageSize:O}),T=M([]),me=M(),K=M(),he=M(),te=M([]),Re=M(!1),W=Ve(Jt,M(!1)),{base:oe}=Ke(ut()),{sharedView:X,fetchSharedViewData:ce,paginationData:Oe}=Kt(),{$api:N}=Qe(),{sorts:s,nestedFilters:u,whereQueryFromUrl:r,fetchTotalRowsWithSearchQuery:C,totalRowsWithSearchQuery:h,totalRowsWithoutSearchQuery:L}=dt(),{isUIAllowed:q}=Pt(),B=le(()=>se.value.query),{isPaginationLoading:j}=Ke(rt()),t=le({get:()=>W.value?Oe.value:ge.value,set:A=>{W.value?Oe.value=A:ge.value=A}}),n=le(()=>{var H;const A=ze();return((H=t.value)==null?void 0:H.isLastPage)&&A===te.value.length-1}),o=le(()=>{var H;const A=ze();return((H=t.value)==null?void 0:H.isFirstPage)&&A===0}),i=le(()=>({offset:((t.value.page??0)-1)*(t.value.pageSize??O),limit:t.value.pageSize??O,where:(D==null?void 0:D.value)??""}));async function c(){var H,J,Y;const{count:A}=await N.dbViewRow.count(qe,((H=ee==null?void 0:ee.value)==null?void 0:H.base_id)??((J=oe==null?void 0:oe.value)==null?void 0:J.id),Se.value,(Y=a==null?void 0:a.value)==null?void 0:Y.id);t.value.totalRows=A}async function g(){var pe;const A=((pe=t.value)==null?void 0:pe.totalRows)??1/0,H=t.value.pageSize??O,J=t.value.page??1,Y=Math.ceil(A/H),V=Math.max(1,Math.min(Y,J));J>V?E==null||E(V):await F({offset:(V-1)*H,where:D==null?void 0:D.value})}async function d(){var H,J,Y,V,pe;if(!q("commentCount")||W.value)return;const A=(J=(H=te.value)==null?void 0:H.filter(({rowMeta:{new:ue}})=>!ue))==null?void 0:J.map(({row:ue})=>{var ie;return je(ue,(ie=ee==null?void 0:ee.value)==null?void 0:ie.columns)});if(!(!(A!=null&&A.length)||A!=null&&A.some(ue=>!ue)))try{T.value=await N.utils.commentCount({ids:A,fk_model_id:Se.value});for(const ue of te.value){const ie=je(ue.row,(Y=ee.value)==null?void 0:Y.columns);ue.rowMeta.commentCount=+(((pe=(V=T.value)==null?void 0:V.find(Ce=>Ce.row_id===ie))==null?void 0:pe.count)||0)}}catch(ue){console.error(ue)}}const m=M();async function I(A={}){var J;if(!C.value)return;m.value&&m.value.cancel();const H=pt.CancelToken;m.value=H.source();try{const Y=W.value?await ce({offset:0,limit:1,sortsArr:s.value,filtersArr:u.value,where:r.value}):await b.dbViewRow.list("noco",oe.value.id,Se.value,a.value.id,{...A,offset:0,limit:1,...q("sortSync")?{}:{sortArrJson:JSON.stringify(s.value)},...q("filterSync")?{}:{filterArrJson:JSON.stringify(u.value)},where:r.value,include_row_color:!0},{cancelToken:m.value.token});L.value=((J=Y.pageInfo)==null?void 0:J.totalRows)??0}catch(Y){if(Y.code==="ERR_CANCELED")return;console.error(Y)}}const P=M();async function F(A={},H=!0){var V,pe,ue,ie,Ce;if((!((V=oe==null?void 0:oe.value)!=null&&V.id)||!Se.value||!((pe=a.value)!=null&&pe.id))&&!W.value)return;P.value&&P.value.cancel();const J=pt.CancelToken;P.value=J.source(),H&&(j.value=!0);let Y;try{Y=W.value?await ce({sortsArr:s.value,filtersArr:u.value,where:D==null?void 0:D.value}):await b.dbViewRow.list("noco",oe.value.id,Se.value,a.value.id,{...i.value,...A,...q("sortSync")?{}:{sortArrJson:JSON.stringify(s.value)},...q("filterSync")?{}:{filterArrJson:JSON.stringify(u.value)},where:D==null?void 0:D.value,...Re.value?{excludeCount:"true"}:{},include_row_color:!0},{cancelToken:P.value.token}),I(A)}catch(Pe){return Pe.code==="ERR_CANCELED"?void 0:((ie=(ue=Pe==null?void 0:Pe.response)==null?void 0:ue.data)==null?void 0:ie.error)==="FORMULA_ERROR"?(re.error(await Me(Pe)),await R.reloadTableMeta(Se.value),F(A,H)):(console.error(Pe),re.error(await Me(Pe)))}if(te.value=Mo(Y.list),t.value=Y.pageInfo||t.value||{},h.value=t.value.totalRows??0,W.value&&(Oe.value=t.value),Re.value=!Y.pageInfo,j.value=!1,t.value.totalRows!==void 0&&t.value.totalRows!==null){const Pe=Math.max(1,Math.ceil(t.value.totalRows/t.value.pageSize));Pe<t.value.page&&await E(Pe)}((Ce=a.value)==null?void 0:Ce.type)===Yt.GRID&&d()}async function ae(){var A,H;(A=a==null?void 0:a.value)!=null&&A.id&&(me.value=W.value?(H=X.value)==null?void 0:H.view:await N.dbView.galleryRead(a.value.id))}async function E(A){t.value.page=A,await F({offset:(A-1)*(t.value.pageSize||O),where:D==null?void 0:D.value},!0)}const{insertRow:l,updateRowProperty:_,addEmptyRow:p,deleteRow:v,deleteRowById:w,deleteSelectedRows:x,deleteRangeOfRows:$,updateOrSaveRow:G,bulkUpdateRows:U,bulkUpdateView:De,selectedAllRecords:$e,removeRowIfNew:Fe}=Ao({meta:ee,viewMeta:a,formattedData:te,paginationData:t,callbacks:{changePage:E,loadData:F,syncCount:c,syncPagination:g}});async function de(){var A,H,J;if((A=a==null?void 0:a.value)!=null&&A.id)try{const{columns:Y,...V}=await N.dbView.formRead(a.value.id);let pe=1;const ue=(Y||[]).reduce((ie,Ce)=>(pe<Ce.order&&(pe=Ce.order),{...ie,[Ce.fk_column_id]:Ce}),{});he.value=V,K.value=(J=(H=ee==null?void 0:ee.value)==null?void 0:H.columns)==null?void 0:J.map(ie=>{var Ce,Pe;return{...ie,fk_column_id:ie.id,fk_view_id:(Ce=a.value)==null?void 0:Ce.id,...ue[ie.id]?ue[ie.id]:{},meta:{validators:[],visibility:{errors:{}},...ft((Pe=ue[ie.id])==null?void 0:Pe.meta),...ft(ie.meta)},order:ue[ie.id]&&ue[ie.id].order||pe++,id:ue[ie.id]&&ue[ie.id].id,visible:!0,permissions:{isAllowedToEdit:Q(Qt.FIELD,ie.id,Xt.RECORD_FIELD_EDIT,{isFormView:!0}),label:xe("objects.permissions.formViewFieldEditPermissionRestrictionTooltip")}}}).sort((ie,Ce)=>ie.order-Ce.order)}catch(Y){return re.error(`${xe("msg.error.setFormDataFailed")}: ${await Me(Y)}`)}}async function Be(A){var H;if(!(!((H=a==null?void 0:a.value)!=null&&H.id)||!A||!q("viewFieldEdit")))try{await N.dbView.formUpdate(a.value.id,A)}catch(J){return re.error(`${xe("msg.error.formViewUpdateFailed")}: ${await Me(J)}`)}}function ze(){return te.value.findIndex(A=>{var H;return B.value.rowId===je(A.row,(H=ee.value)==null?void 0:H.columns)})}return{error:k,isLoading:Le,loadData:F,paginationData:t,queryParams:i,formattedData:te,insertRow:l,updateRowProperty:_,changePage:E,addEmptyRow:p,deleteRow:v,deleteRowById:w,deleteSelectedRows:x,deleteRangeOfRows:$,updateOrSaveRow:G,bulkUpdateRows:U,bulkUpdateView:De,selectedAllRecords:$e,syncCount:c,syncPagination:g,galleryData:me,loadGalleryData:ae,loadFormView:de,formColumnData:K,formViewData:he,updateFormView:Be,aggCommentCount:T,loadAggCommentsCount:d,removeRowIfNew:Fe,navigateToSiblingRow:async A=>{var pe,ue,ie,Ce,Pe;let J=ze()+(A===ct.NEXT?1:-1);for(;(ue=(pe=te.value[J])==null?void 0:pe.rowMeta)!=null&&ue.new;)J=J+(A===ct.NEXT?1:-1);const Y=((ie=t==null?void 0:t.value)==null?void 0:ie.page)||1;if(J<0){if(Y===1)return re.info(xe("msg.info.noMoreRecords"));await E(Y-1),J=te.value.length-1}else if(J>=te.value.length){if((Ce=t==null?void 0:t.value)!=null&&Ce.isLastPage)return re.info(xe("msg.info.noMoreRecords"));await E(Y+1),J=0}const V=je(te.value[J].row,(Pe=ee.value)==null?void 0:Pe.columns);V&&await ne.push({query:{...B.value,rowId:V}})},getExpandedRowIndex:ze,optimisedQuery:ye,islastRow:n,isFirstRow:o}}const at=100,xo=Mt.useForm,Lt=Zt((S,a)=>{const{$e:D}=Qe(),{t:R}=et(),{aiLoading:f,aiError:e,predictNextFields:ee,predictNextFormulas:Se,predictNextButtons:xe}=At(),{meta:ye,view:b}=dt(),Le=Ve(bt,M(!1)),k=M(),{$api:ne}=Qe(),se=M(!1),Z=M(!1),_e=le(()=>se.value&&Z.value),Q=M("field"),O=le(()=>Q.value==="formula"),ge=M(null),T=M(""),me=M(""),K=M(""),he=M(!1),te=M(nt.AUTO_SUGGESTIONS),Re=M(!1),W=M(0),oe=le({get:()=>te.value,set:l=>{te.value=l,e.value="",se.value&&D(`c:column:ai:tab-change:${l}`)}}),X=M([]),ce=le(()=>X.value.filter(l=>l.tab===oe.value)),Oe=M([]),N=M([]),s=le(()=>N.value.filter(l=>l.tab===oe.value)),u=M(null),r=M([]),C=le(()=>X.value.filter(l=>!!l.selected&&l.tab===oe.value)),h=le(()=>f.value&&T.value==="predictFromPrompt"),L=le(()=>{const l={};if(!C.value.length)return l;for(const _ of C.value){const p=[{validator:(v,w)=>new Promise((x,$)=>(_e.value?C.value.some(U=>{var De,$e;return U.ai_temp_id!==(w==null?void 0:w.ai_temp_id)&&(w==null?void 0:w.title)&&(w.title.toLowerCase().trim()===(((De=U.formState)==null?void 0:De.column_name)||"").toLowerCase().trim()||w.title.toLowerCase().trim()===((($e=U.formState)==null?void 0:$e.title)||"").toLowerCase().trim()||w.title.toLowerCase().trim()===((U==null?void 0:U.title)||"").toLowerCase().trim())}):!1)?$(new Error(`${R("msg.error.duplicateColumnName")} "${w==null?void 0:w.title}"`)):x())}];switch(_.type){case z.Formula:p.push({validator:(v,w)=>new Promise((x,$)=>{var G;return(G=w==null?void 0:w.formula_raw)!=null&&G.trim()?x():$(new Error("Formula is required"))})})}p.length&&(l[_.ai_temp_id]=p)}return l}),q=le(()=>C.value.length?C.value.reduce((l,_)=>(l[_.ai_temp_id]=_.formState,l),{}):{}),{validate:B}=xo(q,L),j=l=>{if([z.SingleSelect,z.MultiSelect].includes(l.type)&&l.options){const _=[];for(const p of l.options)_.find(v=>v.title===p)||_.push({title:p,index:_.length,color:lt.light[_.length%lt.light.length]});l.colOptions={options:_}}return{title:l.title,uidt:Q.value==="formula"?z.Formula:Q.value==="button"?z.Button:l.type,column_name:l.title.toLowerCase().replace(/\\W/g,"_"),...l.formula?{formula_raw:l.formula}:{},...l.colOptions?{colOptions:l.colOptions}:{},meta:Et.getColumnDefaultMeta(l.type),description:(l==null?void 0:l.description)||null,is_ai_field:!0,ai_temp_id:l.ai_temp_id}},t=async()=>{var p,v,w,x;const l=Array.from(new Set(s.value.map($=>$.title).concat(S!=null&&S.value?((v=(p=a==null?void 0:a.value)==null?void 0:p.filter($=>!!($!=null&&$.title)&&!!($!=null&&$.temp_id)))==null?void 0:v.map($=>$.title))||[]:[])));return(await(Q.value==="formula"?Se:Q.value==="button"?xe:ee)((w=ye.value)==null?void 0:w.id,l,(x=ye.value)==null?void 0:x.base_id,oe.value===nt.PROMPT?me.value:void 0,Le.value?kt:[])).filter($=>{var G;return!tt([...ce.value,...S!=null&&S.value?((G=a==null?void 0:a.value)==null?void 0:G.filter(U=>!!(U!=null&&U.title)&&!!(U!=null&&U.temp_id)).map(U=>({title:U.title})))||[]:[]],$.title,"title")}).map($=>{const G={...$,tab:oe.value,ai_temp_id:`temp_${++W.value}`,selected:!1};return S!=null&&S.value?G:{...G,formState:j(G)}})},n=()=>{D("c:column:ai:toggle:false",{mode:Q.value}),E()},o=async()=>{var _;T.value="predictMore",D("a:column:ai:predict-more");const l=await t();l.length?(X.value.push(...l),N.value.push(...l)):e.value||re.info(`No more auto suggestions were found for ${((_=ye.value)==null?void 0:_.title)||"the current table"}`)},i=async l=>{var p;T.value="predictRefresh",D("a:column:ai:predict-refresh");const _=await t();_.length?(X.value=[...X.value.filter(v=>v.tab!==oe.value||(S==null?void 0:S.value)&&v.tab===oe.value&&!!v.selected),..._],N.value.push(..._),wt(l)&&l()):e.value||re.info(`No auto suggestions were found for ${((p=ye.value)==null?void 0:p.title)||"the current table"}`),ge.value="pick"},c=async l=>{T.value="predictFromPrompt",D("a:column:ai:predict-from-prompt",{prompt:me.value});const _=await t();_.length?(X.value=[...X.value.filter(p=>p.tab!==oe.value||(S==null?void 0:S.value)&&p.tab===oe.value&&!!p.selected),..._],N.value.push(..._),K.value=me.value,wt(l)&&l()):e.value||re.info("No suggestions were found with the given prompt. Try again after modifying the prompt."),ge.value="pick",he.value=!0},g=l=>{if(!(l.selected!==!0&&(C.value.length>=at||tt(X.value.filter(_=>!!_.selected),l.title,"title")))){if(S!=null&&S.value&&l.selected){const _=X.value.findIndex(v=>v.ai_temp_id===l.ai_temp_id);if(_===-1)return;const p=X.value.splice(_,1)[0];p.selected=!1,X.value.push(p)}else X.value=X.value.map(_=>(_.ai_temp_id===l.ai_temp_id&&(!(S!=null&&S.value)&&!l.selected&&(u.value=l.ai_temp_id),_.selected=!l.selected),_));return!0}},d=l=>{u.value=l.ai_temp_id},m=()=>{if(r.value.length>=at)return;let l=r.value.length;const _=[],p=[];return X.value.forEach(v=>{l<at&&!tt(Oe.value,v.title,"title")&&!tt(r.value,v.title,"title")?(p.push(v),l++):_.push(v)}),r.value.push(...p.map(v=>(S!=null&&S.value||(v.formState=j(v)),v))),X.value=_,p},I=()=>{switch(T.value){case"predictMore":return o();case"predictRefresh":return i();case"predictFromPrompt":return c()}},P=async()=>{var l;try{return await B(),!0}catch(_){if(console.error(_),(l=_==null?void 0:_.errorFields)!=null&&l.length){const p=_==null?void 0:_.errorFields.map((v,w)=>{var x,$;return(x=v==null?void 0:v.errors)!=null&&x.length?`${w+1}. ${($=v==null?void 0:v.errors)==null?void 0:$.join(",")}`:""}).join(", ");return re.error(p||R("msg.error.someOfTheRequiredFieldsAreEmpty")),!1}}},F=async l=>{var v,w;if(!await P())return!1;Re.value=!1;const p=C.value.filter(x=>x.formState).map(x=>{var $,G,U,De;return{op:"add",column:{...x.formState,title:(($=x.formState)==null?void 0:$.title)||x.title,column_name:(((G=x.formState)==null?void 0:G.title)||x.title).toLowerCase().replace(/\\W/g,"_"),column_order:{view_id:(U=b.value)==null?void 0:U.id},view_id:(De=b.value)==null?void 0:De.id}}});try{const x=await ne.dbTableColumn.bulk((v=ye.value)==null?void 0:v.id,{hash:k.value,ops:p});if(x&&((w=x.failedOps)!=null&&w.length)){const $=x.failedOps.filter(G=>{var U;return(U=G==null?void 0:G.column)==null?void 0:U.ai_temp_id}).map(G=>G.column.ai_temp_id);return X.value=X.value.filter(G=>{var U;return!!$.includes((U=G.formState)==null?void 0:U.ai_temp_id)}),Re.value=!0,!1}else return await(l==null?void 0:l()),!0}catch(x){return console.error(x),!1}},ae=async(l="field",_=!1)=>{D("c:column:ai:toggle:true",{mode:l}),l==="formula"?Q.value="formula":l==="button"?Q.value="button":Q.value="field",Z.value=!!_,e.value="",se.value=!0,ge.value="init",X.value=[],N.value=[],me.value="",K.value="",he.value=!1;const p=await t();X.value=p,N.value.push(...p),ge.value="pick"};function E(){u.value=null,Q.value="field",se.value=!1,Z.value=!1,ge.value=null,X.value=[],Oe.value=[],N.value=[],r.value=[],T.value="",me.value="",K.value="",he.value=!1,te.value=nt.AUTO_SUGGESTIONS,Re.value=!1}return it(ye,async l=>{l!=null&&l.id&&(k.value=(await ne.dbTableColumn.hash(l.id)).hash,N.value=[])},{deep:!0,immediate:!0}),{aiMode:se,isAiModeFieldModal:_e,aiModeStep:ge,predicted:X,activeTabPredictedFields:ce,removedFromPredicted:Oe,predictHistory:N,activeTabPredictHistory:s,activeSelectedField:u,selected:r,activeTabSelectedFields:C,calledFunction:T,prompt:me,oldPrompt:K,isPromtAlreadyGenerated:he,maxSelectionCount:at,activeAiTab:oe,isPredictFromPromptLoading:h,isFormulaPredictionMode:O,fieldPredictionMode:Q,failedToSaveFields:Re,onInit:E,toggleAiMode:ae,disableAiMode:n,predictMore:o,predictRefresh:i,predictFromPrompt:c,onToggleTag:g,onSelectedTagClick:d,onSelectAll:m,handleRefreshOnError:I,saveFields:F}}),$o=to(),zo=Mt.useForm,[da,No]=Vt((S,a,D,R,f,e)=>{var _,p;const ee=ut(),{isMysql:Se,isPg:xe,isXcdbBase:ye}=ee,{sqlUis:b}=Ke(ee),{$api:Le}=Qe(),{getMeta:k}=Ot(),{isMetaReadOnly:ne}=Pt(),{t:se}=et(),{$e:Z}=Qe(),_e=M((_=S.value)!=null&&_.source_id?b.value[(p=S.value)==null?void 0:p.source_id]:Object.values(b.value)[0]),Q=rt(),{activeView:O}=Ke(Q),{xWhere:ge,view:T,eventBus:me}=dt(),{formattedData:K,loadData:he}=Lo(S,T,ge),{isAiModeFieldModal:te,activeTabSelectedFields:Re}=Lt(M(!1)),W=M(!1),oe=M(!1),X=M(!1),ce=M(!1),Oe=M(!1),N=le(()=>{var v;return!!((v=a==null?void 0:a.value)!=null&&v.id)}),s=le(()=>{var v,w;return Se((v=S.value)!=null&&v.source_id?(w=S.value)==null?void 0:w.source_id:Object.keys(b.value)[0])}),u=le(()=>{var v,w;return xe((v=S.value)!=null&&v.source_id?(w=S.value)==null?void 0:w.source_id:Object.keys(b.value)[0])}),r=le(()=>eo(a.value)),C=le(()=>{var v,w;return ye((v=S.value)!=null&&v.source_id?(w=S.value)==null?void 0:w.source_id:Object.keys(b.value)[0])});let h;const L=M({}),q=v=>{L.value={...L.value,...v}},B=v=>{delete L.value[v]},j=v=>{h=v},t=ne.value?z.Formula:z.SingleLineText,n={title:"",description:"",uidt:null,custom:{}},o=M({...n,uidt:R!=null&&R.value?t:null,...$o(a.value||{})}),i=le(()=>!!(o.value.uidt===z.Button&&o.value.type===oo.Ai||Dt(o.value))),c=v=>{var G,U,De,$e,Fe,de,Be,ze,Ue,A,H;W.value=!1;const w=l(!1),x=_e.value.getDataTypeForUiType(o.value,void 0);o.value={...R!=null&&R.value||(G=o.value)!=null&&G.is_ai_field||(U=o.value)!=null&&U.ai_temp_id?{is_ai_field:(De=o.value)==null?void 0:De.is_ai_field,ai_temp_id:($e=o.value)==null?void 0:$e.ai_temp_id,view_id:(Fe=o.value)==null?void 0:Fe.view_id,description:(de=o.value)==null?void 0:de.description}:{},custom:{},...!N.value&&{title:w||o.value.title,column_name:w||o.value.column_name,uidt:o.value.uidt,temp_id:o.value.temp_id,userHasChangedTitle:!!((Be=o.value)!=null&&Be.userHasChangedTitle)},...N.value&&{...o.value},meta:{},rqd:!1,pk:!1,ai:!1,cdf:null,un:!1,dtx:"specificType",...x},v&&(o.value={...o.value,...v}),o.value.dtxp=_e.value.getDefaultLengthForDatatype(o.value.dt),o.value.dtxs=_e.value.getDefaultScaleForDatatype(o.value.dt);const $=[z.MultiSelect,z.SingleSelect];a&&$.includes(o.value.uidt)&&$.includes((ze=a.value)==null?void 0:ze.uidt)&&(o.value.dtxp=(Ue=a.value)==null?void 0:Ue.dtxp),gt.includes(o.value.uidt)&&(o.value.meta={validate:o.value.meta&&o.value.meta.validate}),a.value&&o.value.uidt===((A=a.value)==null?void 0:A.uidt)?(o.value.dtxp=a.value.dtxp,o.value.dtxs=a.value.dtxs):((H=o.value)==null?void 0:H.uidt)===z.Currency&&(o.value.dtxp=19,o.value.dtxs=2),o.value.altered=o.value.altered||2},g=(v=!1)=>{q({}),o.value={meta:{},..._e.value.getNewColumn(1)},o.value.title="",o.value.column_name="",ne.value&&(o.value.uidt=t,c()),v&&!(R!=null&&R.value)&&(o.value.uidt=null)},d=le(()=>({title:[...N.value?[{required:!0,message:se("msg.error.columnNameRequired")}]:[],{validator:(v,w)=>new Promise((x,$)=>{var U,De,$e,Fe;if(w!==""&&((De=(D==null?void 0:D.value)||((U=S.value)==null?void 0:U.columns))!=null&&De.some(de=>de.id!==o.value.id&&((w||"").toLowerCase()===(de.column_name||"").toLowerCase()||(w||"").toLowerCase()===(de.title||"").toLowerCase())&&de.system)))return $(new Error(se("msg.error.duplicateSystemColumnName")));const G=te.value?Re.value.some(de=>{var Be,ze,Ue;return de.ai_temp_id!==((Be=o.value)==null?void 0:Be.ai_temp_id)&&((w||"").toLowerCase().trim()===(((ze=de.formState)==null?void 0:ze.column_name)||"").toLowerCase().trim()||(w||"").toLowerCase().trim()===(((Ue=de.formState)==null?void 0:Ue.title)||"").toLowerCase().trim()||(w||"").toLowerCase().trim()===((de==null?void 0:de.title)||"").toLowerCase().trim())}):!1;if(w!==""&&((Fe=(D==null?void 0:D.value)||(($e=S.value)==null?void 0:$e.columns))!=null&&Fe.some(de=>de.id!==o.value.id&&((w||"").toLowerCase()===(de.column_name||"").toLowerCase()||(w||"").toLowerCase()===(de.title||"").toLowerCase()))||G))return $(new Error(se("msg.error.duplicateColumnName")));x()})},ao()],uidt:[{required:!0,message:se("msg.error.uiDataTypeRequired")}],cdf:[{validator:(v,w)=>new Promise((x,$)=>{const G=io(o.value,w);if(G)return $(new Error(se(G)));x()})}],...(L==null?void 0:L.value)||{}})),{resetFields:m,validate:I,validateInfos:P}=zo(o,d),F=()=>{var w,x;o.value.rqd=!1,o.value.uidt!==z.ID&&(o.value.primaryKey=!1),o.value.ai=!1,o.value.cdf=null,o.value.un=!1,o.value.dtxp=_e.value.getDefaultLengthForDatatype(o.value.dt),o.value.dtxs=_e.value.getDefaultScaleForDatatype(o.value.dt),o.value.dtx="specificType";const v=[z.MultiSelect,z.SingleSelect];a.value&&v.includes(o.value.uidt)&&v.includes(a.value.uidt)&&(o.value.dtxp=a.value.dtxp),a.value&&o.value.uidt===((w=a.value)==null?void 0:w.uidt)?(o.value.dtxp=a.value.dtxp,o.value.dtxs=a.value.dtxs):((x=o.value)==null?void 0:x.uidt)===z.Currency&&(o.value.dtxp=19,o.value.dtxs=2),o.value.altered=o.value.altered||2},ae=(v=2,w=!1)=>{o.value.altered=o.value.altered||v,w&&(o.value.cdf=o.value.cdf||null)},E=async(v,w)=>{var G,U,De,$e,Fe,de,Be,ze,Ue,A,H;try{if(!await I())return}catch(J){const Y=(J.errorFields||[]).filter(V=>(V==null?void 0:V.name)!=="cdf").map(V=>{var pe;return(pe=V.errors)==null?void 0:pe.join(", ")}).filter(Boolean).join(", ");if(Y){re.error(Y);return}if(!(e!=null&&e.value)||e.value&&!J.outOfDate){re.error(se("msg.error.formValidationFailed"));return}}let x,$;try{oe.value=!0,o.value.table_name=(G=S.value)==null?void 0:G.table_name;const J=(U=o.value.custom)==null?void 0:U.ref_model_id;if(a.value){gt.includes(o.value.uidt)||(o.value.validate="");const{filters:Y,...V}=o.value;try{$=a.value,await Le.dbTableColumn.update((De=a.value)==null?void 0:De.id,V),$&&[z.Date,z.DateTime,z.CreatedTime,z.LastModifiedTime].includes($.uidt)&&Q.loadViews({tableId:$==null?void 0:$.fk_model_id,ignoreLoading:!0,force:!0}),me.emit(mt.FIELD_UPDATE),me.emit(mt.ROW_COLOR_UPDATE)}catch(pe){P.formula_raw||(P.formula_raw={}),P.formula_raw.validateStatus="error",($e=P.formula_raw)!=null&&$e.help||(P.formula_raw.help=[]),(Fe=P.formula_raw)==null||Fe.help.push(await Me(pe)),re.error(await Me(pe));return}await(h==null?void 0:h({update:!0,colId:(de=a.value)==null?void 0:de.id})),(Be=S.value)!=null&&Be.id&&a.value.uidt===z.Attachment&&a.value.uidt!==o.value.uidt&&Q.updateViewCoverImageColumnId({metaId:S.value.id,columnIds:new Set([a.value.id])})}else{if(!o.value.title.trim()){const V=yt({formState:o.value,tableExplorerColumns:D==null?void 0:D.value,metaColumns:((ze=S.value)==null?void 0:ze.columns)||[]});o.value.title=V,o.value.column_name=V}o.value.uidt,z.ID,x=(A=(await Le.dbTableColumn.create((Ue=S.value)==null?void 0:Ue.id,{...o.value,...w,view_id:O.value.id})).columns)==null?void 0:A.find(V=>V.title===o.value.title||V.column_name===o.value.column_name),await(h==null?void 0:h({update:!1,colId:x==null?void 0:x.id,column:x})),no(o.value)&&((H=S.value)==null?void 0:H.id)!==o.value.childId&&(J?k(J,!0).then(()=>{}):k(o.value.childId,!0).then(()=>{})),Z("a:column:add",{datatype:o.value.uidt})}return await(v==null?void 0:v(x)),!0}catch(J){re.error(await Me(J))}finally{oe.value=!1}};function l(v=!0){var x,$,G,U;if((x=o.value)!=null&&x.is_ai_field||N.value||!(R!=null&&R.value)||($=o.value)!=null&&$.userHasChangedTitle||!((G=f==null?void 0:f.value)!=null&&G.call(f,o.value)))return;const w=yt({formState:o.value,tableExplorerColumns:(D==null?void 0:D.value)||[],metaColumns:((U=S.value)==null?void 0:U.columns)||[]});if(v)o.value.title=w,o.value.column_name=w;else return w}return it(()=>{var v;return(v=o.value)==null?void 0:v.title},v=>o.value.column_name=v),{formState:o,generateNewColumnMeta:g,addOrUpdate:E,onAlter:ae,onDataTypeChange:F,onUidtOrIdTypeChange:c,setAdditionalValidations:q,removeAdditionalValidation:B,resetFields:m,validate:I,validateInfos:P,isEdit:N,column:a,sqlUi:_e,isPg:u,isWebhookCreateModalOpen:X,isAiButtonConfigModalOpen:Oe,isMysql:s,isSystem:r,isXcdbBase:C,disableSubmitBtn:W,setPostSaveOrUpdateCbk:j,updateFieldName:l,fromTableExplorer:R,isAiMode:i,formattedData:K,loadData:he,tableExplorerColumns:D,defaultFormState:n,isScriptCreateModalOpen:ce,isSaving:oe}});function jo(){const S=No();if(S==null)throw new Error("Please call `useProvideColumnCreateStore` on the appropriate parent component");return S}const To={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Fo(S,a){return ve(),Ne("svg",To,a[0]||(a[0]=[we("path",{fill:"currentColor",d:"M20 10.5a6.5 6.5 0 0 1-6.5 6.5H7.83l3.09 3.09L9.5 21.5L4 16l5.5-5.5l1.41 1.41L7.83 15h5.67c2.5 0 4.5-2 4.5-4.5S16 6 13.5 6H6V4h7.5a6.5 6.5 0 0 1 6.5 6.5"},null,-1)]))}const Bo=so({name:"mdi-arrow-u-left-bottom",render:Fo}),Uo=yo(()=>Co(()=>import("./Dl-U6wg9.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(S=>S.default||S)),Ho={class:"w-full"},qo={key:0,class:"flex items-center nc-select-option"},Go={class:"flex items-center w-full"},Wo={class:"flex-none h-6 w-6 flex cursor-pointer mx-1"},Jo={class:"flex flex-row w-full justify-center mt-2"},Ko={class:"flex py-1 items-center nc-select-option hover:bg-gray-100 group"},Qo=["data-testid"],Xo=["data-testid"],Yo={class:"flex-none h-6 w-6 flex cursor-pointer mx-1"},Zo=["data-testid","onClick"],bo=["data-testid","onClick"],ko={class:"flex py-1 items-center nc-select-option hover:bg-gray-100 group"},Eo={class:"flex items-center w-full"},Vo={class:"p-2 flex !cursor-disabled"},ea={class:"flex-none h-6 w-6 flex cursor-pointer mx-1"},ta={class:"flex flex-row w-full justify-center mt-2"},oa={key:2,class:"mt-2 pl-1"},Ee=20,aa=lo({__name:"SelectOptions",props:{value:{},fromTableExplorer:{type:Boolean},isKanbanStack:{type:Boolean},optionId:{},isNewStack:{type:Boolean}},emits:["update:value","saveChanges"],setup(S,{emit:a}){const D=S,R=a,f=uo(D,"value",R),{isKanbanStack:e,optionId:ee,isNewStack:Se}=ro(D),{$e:xe}=Qe(),{setAdditionalValidations:ye,validateInfos:b,column:Le}=jo(),{isAiFeaturesEnabled:k,aiIntegrationAvailable:ne,predictSelectOptions:se}=At(),{isAiModeFieldModal:Z}=Lt(),_e=Ve(vo,M()),Q=M(),O=M([]),ge=M(!1),T=M(Ee),me=M(!1),K=M([]),he=M([]),te=M({}),Re=M(lt.light),W=M([]),oe=Ve(co,M(!1)),{t:X}=et(),ce=M(!1);ye({...{colOptions:[{type:"object",fields:{options:{validator:(t,n)=>new Promise((o,i)=>{for(const c of O.value)if(!(c.status==="remove"||c.status==="new")){if(!c.title.length)return i(new Error(X("msg.selectOption.cantBeNull")));if(f.value.uidt===z.MultiSelect&&c.title.includes(","))return i(new Error(X("msg.selectOption.multiSelectCantHaveCommas")));if(O.value.filter(g=>{var d,m;return((d=g.title)==null?void 0:d.trim())===((m=c.title)==null?void 0:m.trim())&&g.status!=="remove"}).length>1)return i(new Error(X("msg.selectOption.cantHaveDuplicates")))}o()})}}}]}});const N=le(()=>Se.value?K.value[K.value.length-1]:ee.value?K.value.find(t=>t.id===ee.value):null),s=()=>{let t=Re.value[0];if(O.value.length&&O.value[O.value.length-1].color){const n=Re.value.indexOf(O.value[O.value.length-1].color);t=Re.value[(n+1)%Re.value.length]}return t},u=()=>{ge.value=!0;const t={title:"",color:s(),index:O.value.length,...e.value?{status:"new"}:{}};O.value.push(t),e.value?K.value=O.value:(me.value=!0,T.value=O.value.length-Ee,T.value=Math.max(T.value,0),K.value=O.value.slice(T.value,O.value.length)),Q.value.scrollTop=Q.value.scrollHeight,st(()=>{setTimeout(()=>{const n=document.querySelectorAll(".nc-col-option-select-option .nc-select-col-option-select-option"),o=n[n.length-1];o&&o.focus()},150),Q.value.scrollTop=Q.value.scrollHeight,ge.value=!1})},r=(t=!1,n=!1,o)=>{f.value.colOptions=f.value.colOptions||{},f.value.colOptions.options=O.value.filter(i=>i.status!=="remove").sort((i,c)=>{const g=K.value.findIndex(m=>i.index!==void 0&&m.index===i.index),d=K.value.findIndex(m=>i.index!==void 0&&m.index===c.index);return g===-1||d===-1?0:g-d}).map(i=>{const{status:c,...g}=i;return g}),t&&R("saveChanges",n,!0,o)},C=t=>{var g;const n=K.value[t];if(n.index===void 0||isNaN(n.index))return;const o=O.value[n.index];n.status="remove",o.status="remove",r();const i=(g=K.value[t])==null?void 0:g.id,c=W.value.find(d=>d.id===i);c&&(f.value.uidt===z.SingleSelect?(he.value=[c],W.value=[],f.value.cdf=null):(he.value=[...he.value,c],W.value=W.value.filter(d=>d.id!==i),f.value.cdf=W.value.map(d=>d.title).join(",")))},h=(t,n=!1)=>{const o=W.value.findIndex(i=>i.id!==void 0&&t.id!==void 0?i.id===t.id:i.index===t.index);o!==-1&&(f.value.uidt===z.SingleSelect?(W.value[o].title=t.title,f.value.cdf=t.title):(W.value[o].title=t.title,f.value.cdf=W.value.map(i=>i.title).join(","))),r(n)},L=t=>{var g;const n=K.value[t];if(n.index===void 0||isNaN(n.index))return;const o=O.value[n.index];n.status=void 0,o.status=void 0,r();const i=(g=K.value[t])==null?void 0:g.id,c=he.value.find(d=>d.id===i);c&&(f.value.uidt===z.SingleSelect?(W.value=[c],f.value.cdf=c.title,he.value=[]):(W.value=[...W.value,c],f.value.cdf=W.value.map(d=>d.title).join(","),he.value=he.value.filter(d=>d.id!==i)))};it(f,t=>{var c;const n=(t.cdf??"").toString().split(","),o=(((c=t.colOptions)==null?void 0:c.options)??[]).reduce((g,d)=>(g[d.title.replace(/^'|'$/g,"")]=d,g),{});W.value=[];const i=n.filter(g=>o[g]?(W.value.push(o[g]),!0):!1).join(",");t.cdf=i.length===0?null:i});const q=async t=>{if(!ge.value){if(T.value===0){t.complete();return}if(t.loading(),T.value-=Ee,T.value=Math.max(T.value,0),K.value=O.value.slice(T.value,O.value.length),Q.value.scrollTop=Q.value.scrollTop+100,T.value===0){t.complete();return}t.loaded()}},B=async t=>{if(!ge.value){if(T.value===O.value.length||(t.loading(),T.value+=Ee,T.value=Math.min(T.value,O.value.length),K.value=O.value.slice(0,T.value),T.value===O.value.length))return t.complete();t.loaded()}},j=async()=>{var o,i,c,g,d;if(!((o=f.value)!=null&&o.title)||!((i=_e.value)!=null&&i.id))return;xe("a:column:ai:select:predict-options"),ce.value=!0;const t=O.value.map(m=>m.title).filter(m=>!!m.trim()),n=await se((c=f.value)==null?void 0:c.title,(g=_e.value)==null?void 0:g.id,t,(d=_e.value)==null?void 0:d.base_id);if(ce.value=!1,n){for(const m of n)if(!(!(m!=null&&m.trim())||O.value.find(I=>I.title===m)))if(e.value){const I=O.value.find(P=>P.status==="new");I?I.title=m:O.value.push({title:m,color:s(),index:O.value.length,...e.value?{status:"new"}:{}});break}else O.value.push({title:m,color:s(),index:O.value.length,...e.value?{status:"new"}:{}});e.value?K.value=O.value:(me.value=!0,T.value=O.value.length-Ee,T.value=Math.max(T.value,0),K.value=O.value.slice(T.value,O.value.length),r()),Q.value.scrollTop=Q.value.scrollHeight}};return fo(()=>{var o;(o=f.value.colOptions)!=null&&o.options||(f.value.colOptions={options:[]}),me.value=!1,O.value=[...f.value.colOptions.options];let t=0;O.value=O.value.map(i=>(i.index=t++,{...i})),e.value?K.value=O.value:(T.value=Math.min(T.value,O.value.length),K.value=[...O.value].slice(0,T.value));for(const i of O.value.filter(c=>c.order===null))i.title=i.title.replace(/^'/,"").replace(/'$/,"");f.value.cdf&&typeof f.value.cdf=="string"&&(O.value.filter(c=>c.title===f.value.cdf).length||(f.value.cdf=f.value.cdf.replace(/^'/,"").replace(/'$/,"")));const n=O.value.filter(i=>i.title===f.value.cdf);n.length&&(W.value=f.value.uidt===z.SingleSelect?[n[0]]:n),e.value&&Se.value?u():e.value&&st(()=>{setTimeout(()=>{const i=document.querySelectorAll(".nc-col-option-select-option .nc-select-col-option-select-option"),c=i[i.length-1];c&&c.focus()},150)})}),e.value&&po(Q,t=>{var o,i,c,g,d,m,I;const n=(c=(i=(o=Le.value)==null?void 0:o.colOptions)==null?void 0:i.options)==null?void 0:c.find(P=>{var F;return(P==null?void 0:P.id)&&P.id===((F=N.value)==null?void 0:F.id)});(g=t.target)!=null&&g.closest(`.nc-select-option-color-picker, .nc-add-select-option-auto-suggest, .nc-kanban-stack-header-${(n==null?void 0:n.id)||"new-stack"}`)||((d=N.value)!=null&&d.title&&((n==null?void 0:n.title)!==((m=N.value)==null?void 0:m.title)||(n==null?void 0:n.color)!==((I=N.value)==null?void 0:I.color))?r(!0,!0,N.value):R("saveChanges",!0,!1))}),e.value||it(ce,t=>{t&&st(()=>{Q.value.scrollTop=Q.value.scrollHeight})}),(t,n)=>{var F,ae,E,l,_;const o=go,i=mo,c=Uo,g=wo,d=ho,m=Bo,I=Ro,P=So;return ve(),Ne("div",Ho,[we("div",{ref_key:"optionsWrapperDomRef",ref:Q,class:Ye(["nc-col-option-select-option",{"overflow-x-auto scrollbar-thin-dull rounded-lg":!y(e),"border-1 border-gray-200":y(K).length&&!y(e),"bg-white":y(Z)}]),style:ot({maxHeight:D.fromTableExplorer?"calc(100vh - (var(--topbar-height) * 3.6) - 320px)":"calc(min(30vh, 250px))"})},[y(e)?(ve(),Ne(ht,{key:0},[y(N)?(ve(),Ne("div",qo,[we("div",Go,[Ie(g,{visible:y(te)[y(N).index],"onUpdate:visible":n[2]||(n[2]=p=>y(te)[y(N).index]=p),"auto-close":!1,"overlay-class-name":"nc-select-option-color-picker",disabled:y(ce)},{overlay:fe(()=>[we("div",null,[Ie(c,{modelValue:y(N).color,"onUpdate:modelValue":n[0]||(n[0]=p=>y(N).color=p),"is-open":y(te)[y(N).index],onInput:n[1]||(n[1]=p=>{y(N).color=p,h(y(N))})},null,8,["modelValue","is-open"])])]),default:fe(()=>[we("div",Wo,[we("div",{class:Ye(["h-6 w-6 rounded flex items-center",{"justify-center":y(ce)}]),style:ot({backgroundColor:y(N).color,color:y(Xe).isReadable(y(N).color||"#ccc","#fff",{level:"AA",size:"large"})?"#fff":y(Xe).mostReadable(y(N).color||"#ccc",["#0b1d05","#fff"]).toHex8String()})},[y(ce)?(ve(),Te(o,{key:0,size:"regular",class:"!text-current"})):(ve(),Te(i,{key:1,icon:"arrowDown",class:"flex-none h-4 w-4 m-auto !text-current"}))],6)])]),_:1},8,["visible","disabled"]),Ie(d,{value:y(N).title,"onUpdate:value":n[3]||(n[3]=p=>y(N).title=p),placeholder:"Enter option name...",class:"caption !rounded-lg nc-select-col-option-select-option nc-kanban-stack-input !bg-transparent","data-testid":"nc-kanban-stack-title-input",disabled:y(ce),onKeydown:n[4]||(n[4]=_t(Ze(p=>r(!0,!0,y(N)),["prevent","stop"]),["enter"])),onChange:n[5]||(n[5]=()=>{y(N).status=void 0,h(y(N))})},null,8,["value","disabled"])]),y(Se)?(ve(),Ne("div",{key:0,class:"ml-1 hover:!text-black-500 text-gray-500 cursor-pointer hover:bg-gray-200 py-1 px-1.5 rounded-md h-7 flex items-center",onClick:n[6]||(n[6]=p=>R("saveChanges",!0,!1))},[(ve(),Te(be(("iconMap"in t?t.iconMap:y(ke)).close),{class:"-mt-0.25 w-4 h-4"}))])):He("",!0)])):He("",!0)],64)):(ve(),Ne(ht,{key:1},[y(me)?(ve(),Te(y(St),Rt({key:0},t.$attrs,{onInfinite:q}),{spinner:fe(()=>[we("div",Jo,[Ie(o)])]),complete:fe(()=>n[10]||(n[10]=[we("span",null,null,-1)])),_:1},16)):He("",!0),Ie(y(Oo),{list:y(K),"item-key":"id",handle:".nc-child-draggable-icon",onChange:r},_o({item:fe(({element:p,index:v})=>[we("div",Ko,[we("div",{class:Ye(["flex items-center w-full",{removed:p.status==="remove"}]),"data-testid":`select-column-option-${v}`},[y(oe)?He("",!0):(ve(),Ne("div",{key:0,class:"nc-child-draggable-icon p-2 flex cursor-pointer","data-testid":`select-option-column-handle-icon-${p.title}`},[(ve(),Te(be(("iconMap"in t?t.iconMap:y(ke)).dragVertical),{small:"",class:"handle"}))],8,Xo)),Ie(g,{visible:y(te)[v],"onUpdate:visible":w=>y(te)[v]=w,"auto-close":!1},{overlay:fe(()=>[we("div",null,[Ie(c,{modelValue:p.color,"onUpdate:modelValue":w=>p.color=w,"is-open":y(te)[v],onInput:w=>{p.color=w,h(p)}},null,8,["modelValue","onUpdate:modelValue","is-open","onInput"])])]),default:fe(()=>[we("div",Yo,[we("div",{class:"h-6 w-6 rounded flex items-center",style:ot({backgroundColor:p.color,color:y(Xe).isReadable(p.color||"#ccc","#fff",{level:"AA",size:"large"})?"#fff":y(Xe).mostReadable(p.color||"#ccc",["#0b1d05","#fff"]).toHex8String()})},[Ie(i,{icon:"arrowDown",class:"flex-none h-4 w-4 m-auto !text-current"})],4)])]),_:2},1032,["visible","onUpdate:visible"]),Ie(d,{value:p.title,"onUpdate:value":w=>p.title=w,class:"caption !rounded-lg nc-select-col-option-select-option !bg-transparent","data-testid":`select-column-option-input-${v}`,disabled:p.status==="remove",onKeydown:_t(Ze(w=>{var x;return((x=p.title)==null?void 0:x.trim())&&u()},["prevent"]),["enter"]),onChange:w=>h(p)},null,8,["value","onUpdate:value","data-testid","disabled","onKeydown","onChange"])],10,Qo),p.status!=="remove"?(ve(),Ne("div",{key:0,"data-testid":`select-column-option-remove-${v}`,class:"mx-1 hover:!text-black-500 text-gray-500 cursor-pointer hover:bg-gray-200 py-1 px-1.5 rounded-md h-7 flex items-center invisible group-hover:visible",onClick:w=>C(v)},[(ve(),Te(be(("iconMap"in t?t.iconMap:y(ke)).close),{class:"-mt-0.25 w-4 h-4"}))],8,Zo)):(ve(),Ne("div",{key:1,"data-testid":`select-column-option-remove-undo-${v}`,class:"mx-1 hover:!text-black-500 text-gray-500 cursor-pointer hover:bg-gray-200 py-1 px-1.5 rounded-md h-7 flex items-center invisible group-hover:visible",onClick:w=>L(v)},[Ie(m,{class:"hover:!text-black-500 text-gray-500 cursor-pointer w-4 h-4",onClick:w=>L(v)},null,8,["onClick"])],8,bo))])]),_:2},[y(ce)?{name:"footer",fn:fe(()=>[we("div",ko,[we("div",Eo,[we("div",Vo,[(ve(),Te(be(("iconMap"in t?t.iconMap:y(ke)).dragVertical),{small:"",class:"handle opacity-75"}))]),we("div",ea,[we("div",{class:"h-6 w-6 rounded flex items-center justify-center",style:ot({backgroundColor:s(),color:y(Xe).isReadable(s()||"#ccc","#fff",{level:"AA",size:"large"})?"#fff":y(Xe).mostReadable(s()||"#ccc",["#0b1d05","#fff"]).toHex8String()})},[Ie(o,{size:"regular",class:"!text-current"})],4)]),n[11]||(n[11]=we("div",{class:"caption px-3"},"...",-1))])])]),key:"0"}:void 0]),1032,["list"]),y(me)?He("",!0):(ve(),Te(y(St),Rt({key:1},t.$attrs,{onInfinite:B}),{spinner:fe(()=>[we("div",ta,[Ie(o)])]),complete:fe(()=>n[12]||(n[12]=[we("span",null,null,-1)])),_:1},16))],64))],6),(l=(E=(ae=(F=y(b))==null?void 0:F.colOptions)==null?void 0:ae.help)==null?void 0:E[0])!=null&&l[0]?(ve(),Ne("div",{key:0,class:Ye(["text-error text-[10px] mb-1 mt-2",{"pl-1":y(e)}])},Ge(y(b).colOptions.help[0][0]),3)):He("",!0),y(e)?(_=y(N))!=null&&_.id?He("",!0):(ve(),Ne("div",oa,[y(k)?(ve(),Te(P,{key:0,class:"w-full",placement:"bottom"},{title:fe(()=>[Je(Ge(y(ne)?t.$t("tooltip.autoSuggestSelectOptions"):t.$t("title.noAiIntegrationAvailable")),1)]),default:fe(()=>[Ie(I,{type:"secondary",theme:"ai",class:"nc-add-select-option-auto-suggest caption w-full",size:"small",disabled:y(ce)||!y(ne),loading:y(ce),onClick:n[9]||(n[9]=Ze(p=>j(),["stop"]))},{icon:fe(()=>[Ie(i,{icon:"ncAutoAwesome",class:"h-4 w-4"})]),loading:fe(()=>[Je(Ge(t.$t("labels.suggesting")),1)]),default:fe(()=>[Je(" "+Ge(t.$t("labels.autoSuggest")),1)]),_:1},8,["disabled","loading"])]),_:1})):He("",!0)])):(ve(),Ne("div",{key:1,class:Ye(["nc-add-select-option-btn-wrapper flex shadow-sm",{"mt-2":y(K).length,"bg-white":y(Z)}])},[Ie(I,{type:"text",class:"nc-add-select-option-btn flex-1 caption",size:"small","data-testid":"nc-add-select-option-btn",onClick:n[7]||(n[7]=Ze(p=>u(),["stop"]))},{icon:fe(()=>[(ve(),Te(be(("iconMap"in t?t.iconMap:y(ke)).plus)))]),default:fe(()=>[Je(" "+Ge(t.$t("labels.addOption")),1)]),_:1}),y(k)?(ve(),Te(P,{key:0,class:"w-1/2"},{title:fe(()=>{var p;return[Je(Ge(y(ne)?(p=y(f).title)!=null&&p.trim()?t.$t("tooltip.autoSuggestSelectOptions"):t.$t("tooltip.fieldNameIsRequriedToAutoSuggestOptions"):t.$t("title.noAiIntegrationAvailable")),1)]}),default:fe(()=>{var p;return[Ie(I,{type:"secondary",theme:"ai",class:"nc-add-select-option-auto-suggest w-full caption",size:"small",bordered:!1,disabled:y(ce)||!((p=y(f).title)!=null&&p.trim())||!y(ne),loading:y(ce),onClick:n[8]||(n[8]=Ze(v=>j(),["stop"]))},{icon:fe(()=>[Ie(i,{icon:"ncAutoAwesome",class:"h-4 w-4"})]),loading:fe(()=>[Je(Ge(t.$t("labels.suggesting")),1)]),default:fe(()=>[Je(" "+Ge(t.$t("labels.autoSuggest")),1)]),_:1},8,["disabled","loading"])]}),_:1})):He("",!0)],2))])}}}),va=Object.assign(Io(aa,[["__scopeId","data-v-a4b4ef81"]]),{__name:"SmartsheetColumnSelectOptions"});export{va as _,Ao as a,da as b,jo as c,Lt as d,Lo as u};
