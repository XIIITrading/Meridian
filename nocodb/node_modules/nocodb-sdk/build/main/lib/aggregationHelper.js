"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatAggregation = exports.AllAggregations = exports.AttachmentAggregations = exports.DateAggregations = exports.BooleanAggregations = exports.CommonAggregations = exports.NumericalAggregations = exports.getAvailableAggregations = void 0;
const UITypes_1 = __importDefault(require("./UITypes"));
const formulaHelpers_1 = require("../lib/formulaHelpers");
const dateTimeHelper_1 = require("../lib/dateTimeHelper");
const helperFunctions_1 = require("../lib/helperFunctions");
const durationUtils_1 = require("../lib/durationUtils");
const numberUtils_1 = require("../lib/numberUtils");
const columnHelper_1 = require("./columnHelper");
var NumericalAggregations;
(function (NumericalAggregations) {
    NumericalAggregations["Sum"] = "sum";
    NumericalAggregations["Min"] = "min";
    NumericalAggregations["Max"] = "max";
    NumericalAggregations["Avg"] = "avg";
    NumericalAggregations["Median"] = "median";
    NumericalAggregations["StandardDeviation"] = "std_dev";
    //   Histogram = 'histogram',
    NumericalAggregations["Range"] = "range";
})(NumericalAggregations || (exports.NumericalAggregations = NumericalAggregations = {}));
var CommonAggregations;
(function (CommonAggregations) {
    CommonAggregations["Count"] = "count";
    CommonAggregations["CountEmpty"] = "count_empty";
    CommonAggregations["CountFilled"] = "count_filled";
    CommonAggregations["CountUnique"] = "count_unique";
    CommonAggregations["PercentEmpty"] = "percent_empty";
    CommonAggregations["PercentFilled"] = "percent_filled";
    CommonAggregations["PercentUnique"] = "percent_unique";
    CommonAggregations["None"] = "none";
})(CommonAggregations || (exports.CommonAggregations = CommonAggregations = {}));
var AttachmentAggregations;
(function (AttachmentAggregations) {
    AttachmentAggregations["AttachmentSize"] = "attachment_size";
})(AttachmentAggregations || (exports.AttachmentAggregations = AttachmentAggregations = {}));
var BooleanAggregations;
(function (BooleanAggregations) {
    BooleanAggregations["Checked"] = "checked";
    BooleanAggregations["Unchecked"] = "unchecked";
    BooleanAggregations["PercentChecked"] = "percent_checked";
    BooleanAggregations["PercentUnchecked"] = "percent_unchecked";
})(BooleanAggregations || (exports.BooleanAggregations = BooleanAggregations = {}));
var DateAggregations;
(function (DateAggregations) {
    DateAggregations["EarliestDate"] = "earliest_date";
    DateAggregations["LatestDate"] = "latest_date";
    DateAggregations["DateRange"] = "date_range";
    DateAggregations["MonthRange"] = "month_range";
})(DateAggregations || (exports.DateAggregations = DateAggregations = {}));
const AllAggregations = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, CommonAggregations), NumericalAggregations), AttachmentAggregations), BooleanAggregations), DateAggregations);
exports.AllAggregations = AllAggregations;
const getAvailableAggregations = (type, parsed_tree) => {
    let returnAggregations = [];
    if (type === UITypes_1.default.Formula && (parsed_tree === null || parsed_tree === void 0 ? void 0 : parsed_tree.dataType)) {
        switch (parsed_tree.dataType) {
            case formulaHelpers_1.FormulaDataTypes.BOOLEAN:
                returnAggregations = [
                    ...Object.values(BooleanAggregations),
                    CommonAggregations.None,
                ];
                break;
            case formulaHelpers_1.FormulaDataTypes.DATE:
                returnAggregations = [
                    ...Object.values(DateAggregations),
                    ...Object.values(CommonAggregations),
                ];
                break;
            case formulaHelpers_1.FormulaDataTypes.NUMERIC:
                returnAggregations = [
                    ...Object.values(NumericalAggregations),
                    ...Object.values(CommonAggregations),
                ];
                break;
            default:
                returnAggregations = [...Object.values(CommonAggregations)];
                break;
        }
    }
    switch (type) {
        case UITypes_1.default.Number:
        case UITypes_1.default.Decimal:
        case UITypes_1.default.Currency:
        case UITypes_1.default.Percent:
        case UITypes_1.default.Duration:
        case UITypes_1.default.Rating:
        case UITypes_1.default.Rollup:
        case UITypes_1.default.Links:
            returnAggregations = [
                ...Object.values(NumericalAggregations),
                ...Object.values(CommonAggregations),
            ];
            break;
        case UITypes_1.default.Checkbox:
            returnAggregations = [
                ...Object.values(BooleanAggregations),
                CommonAggregations.None,
            ];
            break;
        case UITypes_1.default.Date:
        case UITypes_1.default.DateTime:
        case UITypes_1.default.LastModifiedTime:
        case UITypes_1.default.CreatedTime:
            returnAggregations = [
                ...Object.values(DateAggregations),
                ...Object.values(CommonAggregations),
            ];
            break;
        case UITypes_1.default.SpecificDBType:
        case UITypes_1.default.ForeignKey:
            returnAggregations = [CommonAggregations.None];
            break;
        case UITypes_1.default.Button:
        case UITypes_1.default.Attachment:
            return [CommonAggregations.None];
    }
    if (!returnAggregations.length) {
        returnAggregations = [...Object.values(CommonAggregations)];
    }
    return returnAggregations.filter((item) => item !== CommonAggregations.Count);
};
exports.getAvailableAggregations = getAvailableAggregations;
const formatAggregation = (aggregation, value, column, 
/**
 * If columnHelperParams is provided then it will be used to format the aggregation value
 */
columnHelperParams) => {
    var _a, _b, _c;
    if ([DateAggregations.EarliestDate, DateAggregations.LatestDate].includes(aggregation)) {
        if (column.uidt === UITypes_1.default.DateTime) {
            return (0, dateTimeHelper_1.getDateTimeValue)(value, column);
        }
        else if (column.uidt === UITypes_1.default.Date) {
            return (0, dateTimeHelper_1.getDateValue)(value, column);
        }
        return (0, dateTimeHelper_1.getDateTimeValue)(value, column);
    }
    if ([
        CommonAggregations.PercentEmpty,
        CommonAggregations.PercentFilled,
        CommonAggregations.PercentUnique,
        BooleanAggregations.PercentChecked,
        BooleanAggregations.PercentUnchecked,
    ].includes(aggregation)) {
        return `${(_a = (0, numberUtils_1.roundTo)(value, 1)) !== null && _a !== void 0 ? _a : 0}%`;
    }
    if ([DateAggregations.MonthRange, DateAggregations.DateRange].includes(aggregation)) {
        return aggregation === DateAggregations.DateRange
            ? `${value !== null && value !== void 0 ? value : 0} days`
            : `${value !== null && value !== void 0 ? value : 0} months`;
    }
    if ([
        CommonAggregations.Count,
        CommonAggregations.CountEmpty,
        CommonAggregations.CountFilled,
        CommonAggregations.CountUnique,
    ].includes(aggregation)) {
        return value;
    }
    if ([AttachmentAggregations.AttachmentSize].includes(aggregation)) {
        return (0, helperFunctions_1.formatBytes)(value !== null && value !== void 0 ? value : 0);
    }
    if (columnHelperParams &&
        (columnHelperParams === null || columnHelperParams === void 0 ? void 0 : columnHelperParams.col) &&
        Object.values(NumericalAggregations).includes(aggregation) &&
        [
            UITypes_1.default.Number,
            UITypes_1.default.Decimal,
            UITypes_1.default.Currency,
            UITypes_1.default.Percent,
            UITypes_1.default.Duration,
            UITypes_1.default.Rollup,
        ].includes(column.uidt)) {
        return columnHelper_1.ColumnHelper.parsePlainCellValue(value, Object.assign(Object.assign({}, columnHelperParams), { isAggregation: true }));
    }
    if (column.uidt === UITypes_1.default.Currency) {
        return (0, numberUtils_1.getCurrencyValue)(value, column);
    }
    if (column.uidt === UITypes_1.default.Percent) {
        return `${(0, numberUtils_1.roundTo)(value, 1)}%`;
    }
    if (column.uidt === UITypes_1.default.Duration) {
        return (0, durationUtils_1.convertMS2Duration)(value, ((_b = (0, helperFunctions_1.parseProp)(column.meta)) === null || _b === void 0 ? void 0 : _b.duration) || 0);
    }
    if (typeof value === 'number') {
        return (_c = (0, numberUtils_1.roundTo)(value, 1)) !== null && _c !== void 0 ? _c : 'âˆž';
    }
    return value;
};
exports.formatAggregation = formatAggregation;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWdncmVnYXRpb25IZWxwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2FnZ3JlZ2F0aW9uSGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHdEQUFnQztBQUNoQyx5REFBd0Q7QUFFeEQseURBQXNFO0FBQ3RFLDJEQUErRDtBQUMvRCx1REFBeUQ7QUFDekQsbURBQThEO0FBRTlELGlEQUE4QztBQUU5QyxJQUFLLHFCQVNKO0FBVEQsV0FBSyxxQkFBcUI7SUFDeEIsb0NBQVcsQ0FBQTtJQUNYLG9DQUFXLENBQUE7SUFDWCxvQ0FBVyxDQUFBO0lBQ1gsb0NBQVcsQ0FBQTtJQUNYLDBDQUFpQixDQUFBO0lBQ2pCLHNEQUE2QixDQUFBO0lBQzdCLDZCQUE2QjtJQUM3Qix3Q0FBZSxDQUFBO0FBQ2pCLENBQUMsRUFUSSxxQkFBcUIscUNBQXJCLHFCQUFxQixRQVN6QjtBQUVELElBQUssa0JBU0o7QUFURCxXQUFLLGtCQUFrQjtJQUNyQixxQ0FBZSxDQUFBO0lBQ2YsZ0RBQTBCLENBQUE7SUFDMUIsa0RBQTRCLENBQUE7SUFDNUIsa0RBQTRCLENBQUE7SUFDNUIsb0RBQThCLENBQUE7SUFDOUIsc0RBQWdDLENBQUE7SUFDaEMsc0RBQWdDLENBQUE7SUFDaEMsbUNBQWEsQ0FBQTtBQUNmLENBQUMsRUFUSSxrQkFBa0Isa0NBQWxCLGtCQUFrQixRQVN0QjtBQUVELElBQUssc0JBRUo7QUFGRCxXQUFLLHNCQUFzQjtJQUN6Qiw0REFBa0MsQ0FBQTtBQUNwQyxDQUFDLEVBRkksc0JBQXNCLHNDQUF0QixzQkFBc0IsUUFFMUI7QUFFRCxJQUFLLG1CQUtKO0FBTEQsV0FBSyxtQkFBbUI7SUFDdEIsMENBQW1CLENBQUE7SUFDbkIsOENBQXVCLENBQUE7SUFDdkIseURBQWtDLENBQUE7SUFDbEMsNkRBQXNDLENBQUE7QUFDeEMsQ0FBQyxFQUxJLG1CQUFtQixtQ0FBbkIsbUJBQW1CLFFBS3ZCO0FBRUQs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