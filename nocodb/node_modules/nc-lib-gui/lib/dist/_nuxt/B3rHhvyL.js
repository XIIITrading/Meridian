import{e as E,J as V,ak as K,n as g,aU as B,c as U,o as I,b as l,I as G,K as j,w as n,O as q,L as t,ag as p,M as D,a as o,t as d,ap as F,d as J,_ as H}from"./DOFFjK0_.js";const P={class:"comment-bubble-menu bg-transparent flex-row rounded-lg flex"},Q={class:"flex flex-col items-center"},W={class:"text-xs"},X={class:"flex flex-col items-center"},Y={class:"flex flex-col items-center"},Z={class:"flex flex-col items-center"},ee={class:"flex flex-col items-center"},te=E({__name:"RichTextOptions",props:{editor:{}},setup(N){const z=N,{appInfo:L}=V(),{editor:e}=K(z),b=g(()=>B()?"⌘":"CTRL"),M=g(()=>B()?"⇧":"Shift"),v=g(()=>-1),O=()=>{var r,u,_,s,m,a,k,h,y,$,C,A,w,S,T;if(!e.value)return;const c=((s=(_=(u=(r=e.value)==null?void 0:r.state)==null?void 0:u.selection)==null?void 0:_.$from)==null?void 0:s.nodeBefore)||((h=(k=(a=(m=e.value)==null?void 0:m.state)==null?void 0:a.selection)==null?void 0:k.$from)==null?void 0:h.nodeAfter),i=(C=($=(y=e.value)==null?void 0:y.state)==null?void 0:$.storedMarks)==null?void 0:C.some(x=>x.type.name==="link");((A=c==null?void 0:c.marks)==null?void 0:A.some(x=>x.type.name==="link"))||i?e.value.chain().focus().unsetLink().run():((w=e.value)!=null&&w.state.selection.empty?e.value.chain().focus().insertContent(" ").setTextSelection({from:(S=e.value)==null?void 0:S.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).toggleLink({href:""}).setTextSelection({from:(T=e.value)==null?void 0:T.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).deleteSelection().run():e.value.chain().focus().setLink({href:""}).selectTextblockEnd().run(),setTimeout(()=>{const x=document.querySelector(".nc-text-area-rich-link-option-input");x&&x.focus()},100))},R=()=>{var i,f,r,u;if(!e.value)return;const c=e.value.state.doc.textBetween(e.value.state.selection.$from.pos-1,e.value.state.selection.$from.pos);c==="@"?e.value.chain().deleteRange({from:e.value.state.selection.$from.pos-1,to:e.value.state.selection.$from.pos}).run():c!==" "?((i=e.value)==null||i.commands.insertContent(" @"),(f=e.value)==null||f.chain().focus().run()):((r=e.value)==null||r.commands.insertContent("@"),(u=e.value)==null||u.chain().focus().run())};return(c,i)=>{var _;const f=D,r=q,u=F;return I(),U("div",P,[l(u,null,{title:n(()=>[o("div",Q,[o("div",null,d(c.$t("labels.bold")),1),o("div",W,d(t(b))+" B",1)])]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("bold")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[0]||(i[0]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleBold().run()})},{default:n(()=>[l(f,{icon:"bold"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,{disabled:(_=t(e))==null?void 0:_.isActive("italic")},{title:n(()=>[o("div",X,[o("div",null,d(c.$t("labels.italic")),1),o("div",null,d(t(b))+" I",1)])]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("italic")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[1]||(i[1]=m=>{var a;((a=t(e))==null?void 0:a.chain().focus()).toggleItalic().run()})},{default:n(()=>[l(f,{icon:"italic"})]),_:1},8,["class","tabindex"])]}),_:1},8,["disabled"]),l(u,null,{title:n(()=>[o("div",Y,[o("div",null,d(c.$t("labels.underline")),1),o("div",null,d(t(b))+" U",1)])]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("underline")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[2]||(i[2]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleUnderline().run()})},{default:n(()=>[l(f,{icon:"underline"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,null,{title:n(()=>[o("div",Z,[o("div",null,d(c.$t("labels.strike")),1),o("div",null,d(t(M))+" "+d(t(b))+" S",1)])]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("strike")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[3]||(i[3]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleStrike().run()})},{default:n(()=>[l(f,{icon:"strike"})]),_:1},8,["class","tabindex"])]}),_:1}),l(u,null,{title:n(()=>[J(d(c.$t("general.link")),1)]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("link")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:O},{default:n(()=>[l(f,{icon:"link2"})]),_:1},8,["class","tabindex"])]}),_:1}),t(L).ee?(I(),G(u,{key:0},{title:n(()=>[o("div",ee,[o("div",null,d(c.$t("labels.mention")),1),i[4]||(i[4]=o("div",null,"@",-1))])]),default:n(()=>{var s;return[l(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("suggestions")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:R},{default:n(()=>[l(f,{icon:"atSign"})]),_:1},8,["class","tabindex"])]}),_:1})):j("",!0)])}}}),ne=Object.assign(H(te,[["__scopeId","data-v-1e97f99e"]]),{__name:"SmartsheetExpandedFormRichTextOptions"});export{ne as default};
