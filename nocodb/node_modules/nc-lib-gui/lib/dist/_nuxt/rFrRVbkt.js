const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DkUkBUc0.js","./DOFFjK0_.js","./entry.DDfSYhWa.css"])))=>i.map(i=>d[i]);
import{b3 as J,c as d,o as s,a as k,e as X,a9 as Y,J as Z,G as o,fT as ee,r as u,kX as le,k9 as ne,hh as te,jf as ae,gb as oe,gD as se,em as ie,n as M,b0 as S,fq as y,aQ as re,a4 as ue,ad as de,I as T,K as me,L as l,cc as ce,N as a,a3 as p,P as fe,t as z,w as x,b as g,aS as ve,hM as F,d as pe,bQ as ge,aW as we}from"./DOFFjK0_.js";import{_ as Ve}from"./C6nWwNvX.js";import{u as be}from"./eEmSSCot.js";const ye={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function xe(t,w){return s(),d("svg",ye,w[0]||(w[0]=[k("g",{fill:"currentColor"},[k("path",{d:"M12 4a8 8 0 1 0 0 16a8 8 0 0 0 0-16M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"}),k("path",{d:"M12 14a1 1 0 0 1-1-1V7a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1m-1.5 2.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0"})],-1)]))}const ke=J({name:"mi-circle-warning",render:xe}),Ce=ve(()=>we(()=>import("./DkUkBUc0.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(t=>t.default||t)),he={class:"flex flex-row items-center justify-between w-full h-full"},Ie={key:1,class:"nc-cell-field nc-null uppercase"},Re={key:4,class:"w-9/10 overflow-ellipsis overflow-hidden"},je={key:5,class:"mr-1 w-1/10"},Le={class:"flex flex-row items-center"},Me=X({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:w}){const K=w,{t:E}=Y(),{showNull:A}=Z(),C=o(ee),m=o(le,u(!1)),P=o(ne,u(!1)),G=o(te,u(!1)),h=o(ae,u(void 0)),I=o(oe,u(!1)),H=o(se,u(!1)),R=o(ie),i=n=>{var e;return(e=n==null?void 0:n.trim)==null?void 0:e.call(n)},c=u(t.modelValue),V=M({get:()=>t.modelValue,set:n=>{var e;c.value=n,(!((e=S(C.value.meta))!=null&&e.validate)||n&&y(i(n))||!n||R.value||P.value)&&K("update:modelValue",n)}}),j=M(()=>t.modelValue&&y(i(t.modelValue))),f=M(()=>!t.modelValue||!y(i(t.modelValue))?"":/^https?:\/\//.test(i(t.modelValue))?i(t.modelValue):`https://${i(t.modelValue)}`),{cellUrlOptions:r}=be(f),Q=n=>!H.value&&!P.value&&!R.value&&(n==null?void 0:n.focus());return re(()=>m.value,()=>{var n;if(!R.value&&((n=S(C.value.meta))!=null&&n.validate)&&!m.value&&c.value&&!y(i(c.value))){ue.error(E("msg.error.invalidURL")),c.value=void 0;return}c.value=t.modelValue}),(n,e)=>{var O,U,B,N,$,D;const L=Ce,_=Ve,W=ke,q=ge;return s(),d("div",he,[!l(I)&&l(m)?de((s(),d("input",{key:0,ref:Q,"onUpdate:modelValue":e[0]||(e[0]=b=>fe(V)?V.value=b:null),class:"nc-cell-field outline-none w-full py-1 bg-transparent h-full",onBlur:e[1]||(e[1]=b=>m.value=!1),onKeydown:[e[2]||(e[2]=p(a(()=>{},["stop"]),["down"])),e[3]||(e[3]=p(a(()=>{},["stop"]),["left"])),e[4]||(e[4]=p(a(()=>{},["stop"]),["right"])),e[5]||(e[5]=p(a(()=>{},["stop"]),["up"])),e[6]||(e[6]=p(a(()=>{},["stop"]),["delete"])),e[7]||(e[7]=a(()=>{},["alt","stop"]))],onSelectstartCapture:e[8]||(e[8]=a(()=>{},["stop"])),onMousedown:e[9]||(e[9]=a(()=>{},["stop"]))},null,544)),[[ce,l(V)]]):l(V)===null&&l(A)?(s(),d("span",Ie,z(n.$t("general.null")),1)):l(j)&&!((O=l(r))!=null&&O.overlay)?(s(),T(_,{key:2,"no-prefetch":"","no-rel":"",class:"py-1 z-3 underline nc-cell-field-link max-w-full",to:l(f),target:((U=l(r))==null?void 0:U.behavior)==="replace"?void 0:"_blank",tabindex:l(I)?-1:0,onClick:e[10]||(e[10]=a(b=>{var v;return("confirmPageLeavingRedirect"in n?n.confirmPageLeavingRedirect:l(F))(l(f),((v=l(r))==null?void 0:v.behavior)==="replace"?void 0:"_blank")},["prevent"]))},{default:x(()=>[g(L,{value:t.modelValue,lines:l(h),class:"nc-cell-field"},null,8,["value","lines"])]),_:1},8,["to","target","tabindex"])):l(j)&&!l(G)&&((B=l(r))!=null&&B.overlay)?(s(),T(_,{key:3,"no-prefetch":"","no-rel":"",class:"py-1 z-3 w-full h-full text-center !no-underline nc-cell-field-link max-w-full",to:l(f),target:((N=l(r))==null?void 0:N.behavior)==="replace"?void 0:"_blank",tabindex:l(I)?-1:0,onClick:e[11]||(e[11]=a(b=>{var v;return("confirmPageLeavingRedirect"in n?n.confirmPageLeavingRedirect:l(F))(l(f),((v=l(r))==null?void 0:v.behavior)==="replace"?void 0:"_blank")},["prevent"]))},{default:x(()=>[g(L,{value:l(r).overlay,lines:l(h),class:"nc-cell-field"},null,8,["value","lines"])]),_:1},8,["to","target","tabindex"])):(s(),d("span",Re,[g(L,{value:t.modelValue,lines:l(h),class:"nc-cell-field"},null,8,["value","lines"])])),($=l(C).meta)!=null&&$.validate&&!l(j)&&((D=t.modelValue)!=null&&D.length)&&!l(m)?(s(),d("div",je,[g(q,{placement:"top"},{title:x(()=>[pe(z(l(E)("msg.error.invalidURL")),1)]),default:x(()=>[k("div",Le,[g(W,{class:"text-red-400 h-4"})])]),_:1})])):me("",!0)])}}}),Oe=Object.assign(Me,{__name:"CellUrl"});export{Oe as default};
