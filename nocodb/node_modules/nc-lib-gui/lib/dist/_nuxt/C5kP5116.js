const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DOFQqpEI.js","./DOFFjK0_.js","./entry.DDfSYhWa.css","./BUvWXnXR.js"])))=>i.map(i=>d[i]);
import{e as j,a6 as B,a9 as E,b5 as I,u as M,Y as S,r as q,c as v,o as _,b as s,w as n,a as t,aS as F,L as o,t as i,d as m,X as T,by as U,K as A,a0 as D,d1 as z,O,I as W,aT as G,b9 as H,bH as K,a4 as X,a5 as Y,aW as J}from"./DOFFjK0_.js";import{_ as Q}from"./C6nWwNvX.js";import{_ as Z}from"./BPCu6jTH.js";import{_ as ee}from"./XDjqu8Y2.js";import{v as se}from"./BtEbFxXZ.js";const oe=F(()=>J(()=>import("./DOFQqpEI.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(c=>c.default||c)),ae={class:"md:bg-primary signin bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},te={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},ne={class:"self-center flex flex-col justify-center items-center text-center gap-2"},re={class:"prose-2xl font-bold my-4 w-full"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ie={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},ce={class:"flex items-center gap-2 justify-center"},de={class:"break-words"},pe={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},ue={class:"flex items-center gap-2"},he=j({__name:"[id]",setup(c){const{api:y,isLoading:f,error:r}=B(),{t:w}=E(),x=I(),b=M(),a=S({password:"",newPassword:""}),$=q();async function P(){if(a.newPassword!==a.password){r.value="password does not match";return}const{error:e,valid:l}=se(a.password);if(!l){r.value=e.includes("8")?"password should be atleast 8 characters":e;return}d();try{await y.auth.passwordReset(x.params.id,{password:a.password}),b.push("/#/sigin")}catch(p){X.error(await Y(p))}}function d(){r.value&&(r.value=null)}return(e,l)=>{const p=oe,R=ee,k=Q,N=Z,g=z,h=D,V=O,C=T,L=K;return _(),v("div",null,[s(L,null,{default:n(()=>[t("div",ae,[t("div",te,[s(p,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:o(f)},null,8,["animate"]),t("div",ne,[t("h1",re,i(e.$t("title.resetPassword")),1),t("div",le,[m(i(e.$t("msg.info.passwordRecovery.success"))+" ",1),s(R)]),s(k,{to:"/signin"},{default:n(()=>[m(i(e.$t("general.signIn")),1)]),_:1})]),s(C,{ref_key:"formValidator",ref:$,layout:"vertical",model:o(a),"no-style":"",onFinish:P},{default:n(()=>[s(U,{name:"layout"},{default:n(()=>[o(r)?(_(),v("div",ie,[t("div",ce,[s(N),t("div",de,i(o(r)),1)])])):A("",!0)]),_:1}),s(h,{label:e.$t("placeholder.password.new"),name:"password",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:n(()=>[s(g,{value:o(a).password,"onUpdate:value":l[0]||(l[0]=u=>o(a).password=u),placeholder:e.$t("placeholder.password.new"),class:"password",onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s(h,{label:e.$t("placeholder.password.confirm"),name:"newPassword",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:n(()=>[s(g,{value:o(a).newPassword,"onUpdate:value":l[1]||(l[1]=u=>o(a).newPassword=u),type:"password",class:"password",placeholder:e.$t("placeholder.password.confirm"),onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),t("div",pe,[s(V,{type:"primary","is-loading":o(f),"html-type":"submit"},{default:n(()=>[t("span",ue,[(_(),W(G(("iconMap"in e?e.iconMap:o(H)).signin))),m(" "+i(e.$t("general.reset")),1)])]),_:1},8,["is-loading"])])]),_:1},8,["model"])])])]),_:1})])}}});export{he as default};
