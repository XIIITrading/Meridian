import{e as H,T as L,G as c,fT as P,r as _,aM as R,cd as S,gD as U,as as $,aE as F,n as G,iY as J,I as p,o as r,w as i,a as K,N as y,c as Y,K as d,b as v,L as e,ap as q,M as z,d as w,t as C,P as b,eJ as Q,_ as W}from"./DOFFjK0_.js";import{b as X}from"./D0vnHTOx.js";import"./BRTCxTHu.js";import"./D_wq2ltS.js";import"./DDEVLD8O.js";import"./-rIuSlCu.js";import"./DiUleKVo.js";import"./JUJEmhCv.js";import"./BrfakvRE.js";import"./DG2ZEhLK.js";import"./SJHyi9T4.js";import"./SpSJ8E4d.js";import"./9aYOtC5C.js";import"./B3Wp9c04.js";import"./Dh5zKH8k.js";import"./D2QgEzTv.js";import"./BYGCxle3.js";const Z={key:0,class:"h-[1px]"},ee=H({__name:"Menu",props:{virtual:{type:Boolean},isOpen:{type:Boolean},isHiddenCol:{type:Boolean}},emits:["edit","addColumn","update:isOpen"],setup(k,{emit:h}){const M=k,m=h,o=L(M,"isOpen",m),t=c(P),B=c(R,_(null)),E=c(S,_(!1)),l=c(U,_(!1)),{isUIAllowed:N}=$(),{aiIntegrations:O}=F(),f=G(()=>t!=null&&t.value?J(t.value,O.value,E.value||!N("dataEdit")):{isInvalid:!1,tooltip:""}),j=()=>{B.value||(o.value=!o.value)},D=(...n)=>{m("addColumn",...n)},T=(...n)=>{m("edit",...n)};return(n,s)=>{const u=z,x=q,V=X,A=Q;return r(),p(A,{visible:e(o),"onUpdate:visible":s[2]||(s[2]=a=>b(o)?o.value=a:null),trigger:["click"],placement:e(l)?"bottomLeft":"bottomRight","overlay-class-name":`nc-dropdown-column-operations ${e(o)?"active":""} !border-1 rounded-lg !shadow-xl`,onClick:y(j,["stop"])},{overlay:i(()=>[v(V,{"is-open":e(o),"onUpdate:isOpen":s[1]||(s[1]=a=>b(o)?o.value=a:null),column:e(t),virtual:n.virtual,"is-hidden-col":n.isHiddenCol,onAddColumn:D,onEdit:T},null,8,["is-open","column","virtual","is-hidden-col"])]),default:i(()=>{var a,I;return[K("div",{class:"flex gap-1 items-center",onDblclick:s[0]||(s[0]=y(()=>{},["stop"]))},[e(l)?(r(),Y("div",Z,"Â ")):d("",!0),(I=(a=e(t))==null?void 0:a.description)!=null&&I.length&&!e(l)?(r(),p(x,{key:1,class:"flex"},{title:i(()=>{var g;return[w(C((g=e(t))==null?void 0:g.description),1)]}),default:i(()=>[v(u,{icon:"info",class:"group-hover:opacity-100 !w-3.5 !h-3.5 !text-gray-500 flex-none"})]),_:1})):d("",!0),v(x,{class:"flex items-center"},{title:i(()=>[w(C(n.$t(e(f).tooltip)),1)]),default:i(()=>[e(f).isInvalid&&!e(l)?(r(),p(u,{key:0,class:"text-red-300 w-3.5 h-3.5",icon:"alertTriangle"})):d("",!0)]),_:1}),e(l)?d("",!0):(r(),p(u,{key:2,icon:"arrowDown",class:"text-grey h-full text-grey nc-ui-dt-dropdown cursor-pointer outline-0 mr-2"}))],32)]}),_:1},8,["visible","placement","overlay-class-name"])}}}),Ie=Object.assign(W(ee,[["__scopeId","data-v-c3ca5a49"]]),{__name:"SmartsheetHeaderMenu"});export{Ie as default};
