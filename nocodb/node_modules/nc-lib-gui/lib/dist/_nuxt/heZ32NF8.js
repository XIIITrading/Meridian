import{e as M,G as i,fT as R,r,gb as H,jf as E,gD as L,n as f,i9 as P,b0 as T,kr as V,aQ as F,I as s,o as l,w as K,K as c,L as t,mp as O,mq as S,mr as A,ms as D,mt as $,cn as q,ag as z,ia as B,P as G,_ as N}from"./DOFFjK0_.js";import{u as U}from"./CV-2bRRD.js";import{_ as Q}from"./D8wgK-Ih.js";const J=M({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:y}){const x=y,u=i(R),p=i(H,r(!1)),_=i(E,r(void 0)),v=i(L,r(!1)),o=f(()=>{var n,d;const e=P((n=u==null?void 0:u.value)==null?void 0:n.meta);return{color:"#fcb401",max:5,...T((d=u.value)==null?void 0:d.meta),icon:e}}),a=f({get:()=>Number(g.modelValue),set:e=>x("update:modelValue",e)});U(i(V,r(!1)),e=>{/^\d$/.test(e.key)&&(e.stopPropagation(),a.value=+e.key==+a.value?0:+e.key)},{immediate:!0,isGridCell:!0});const k=e=>{/^\d$/.test(e.key)&&(e.stopPropagation(),a.value=+e.key==+a.value?0:+e.key)},m=r();return F(m,()=>{if(!m.value)return;const e=m.value.$el.querySelectorAll('div[role="radio"]');if(e)for(let n=0;n<e.length;n++)e[n].setAttribute("tabindex","-1")}),(e,n)=>{const d=O,b=S,h=A,w=D,I=$,C=Q;return l(),s(C,{ref_key:"rateDomRef",ref:m,key:t(o).icon.full,value:t(a),"onUpdate:value":n[0]||(n[0]=j=>G(a)?a.value=j:null),disabled:t(p),count:t(o).max,class:z(t(p)?"pointer-events-none":""),style:q({color:t(o).color,padding:t(v)?"0px 8px":"0px 2px",display:"-webkit-box","max-width":"100%","-webkit-line-clamp":t(_)===6?5:("rowHeightTruncateLines"in e?e.rowHeightTruncateLines:t(B))(t(_),!0),"-webkit-box-orient":"vertical",overflow:"hidden","line-height":"16px"}),onKeydown:k},{character:K(()=>[t(o).icon.full==="mdi-star"?(l(),s(d,{key:0,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-heart"?(l(),s(b,{key:1,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-moon-full"?(l(),s(h,{key:2,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-thumb-up"?(l(),s(w,{key:3,class:"text-sm"})):c("",!0),t(o).icon.full==="mdi-flag"?(l(),s(I,{key:4,class:"text-sm"})):c("",!0)]),_:1},8,["value","disabled","count","class","style"])}}}),Z=Object.assign(N(J,[["__scopeId","data-v-d468da5c"]]),{__name:"CellRatingEditor"});export{Z as default};
