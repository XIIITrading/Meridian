const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D3NQkx6S.js","./DOFFjK0_.js","./entry.DDfSYhWa.css","./D0vnHTOx.js","./BRTCxTHu.js","./D_wq2ltS.js","./Item.C85DUSg3.css","./DDEVLD8O.js","./-rIuSlCu.js","./DiUleKVo.js","./JUJEmhCv.js","./Modal.CB1oWLel.css","./BrfakvRE.js","./DG2ZEhLK.js","./SJHyi9T4.js","./SpSJ8E4d.js","./9aYOtC5C.js","./index.CotXCNy2.css","./B3Wp9c04.js","./Dh5zKH8k.js","./D2QgEzTv.js","./BYGCxle3.js","./ColumnMenu.DQG9Y5_N.css","./Menu.t7sYKetr.css","./CiBV2ZED.js","./ZNRZafJ9.js","./BhfICdUA.js","./NRjd0XWG.js","./RfUK_fd6.js","./SelectOptions.DqNkMQ-A.css","./BNo10Mdm.js","./index.C8L8AhJa.css","./hehmy6V1.js","./BvG7Iv4q.js","./CyXz1Zkk.js","./CPChVVVr.js","./D4c215jk.js","./CFXGfO_A.js","./VKUQM8lk.js","./YaKnxhzO.js","./BqWeTF94.js","./sgaWLnOz.js","./CQugZrqw.js","./index._6B72PDH.css","./C6nWwNvX.js","./BpgQOThx.js","./CYkscC4Z.js","./CHgOe2F-.js","./ps5He39s.js","./DEAKw9Pl.js","./Cl-qOJW6.js","./DmoodaOn.js","./Bo7kLdUR.js","./4PLl4EP6.js","./DcFNOSET.js","./boyBAVNN.js","./B3tDgntu.js","./Db9kSA7A.js","./EditOrAddProvider.C2farLzy.css"])))=>i.map(i=>d[i]);
import{e as pe,J as me,av as K,G as x,r as d,jd as fe,em as ve,kY as _e,gD as ye,o3 as xe,cd as we,aZ as he,as as Ie,n as P,cg as ke,cf as be,aj as ge,b0 as J,j1 as F,j2 as Ee,aQ as Ce,j6 as De,ld as Te,c as v,o as a,a as L,I as _,K as u,b as g,L as e,an as Z,w as c,g0 as Pe,ag as w,d as j,t as A,ap as je,M as Ae,P as Q,aS as W,N as M,eJ as Me,aW as X,aX as Oe,fT as Fe,_ as Le}from"./DOFFjK0_.js";import{u as Be}from"./BYGCxle3.js";const Re=W(()=>X(()=>import("./D3NQkx6S.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url).then(p=>p.default||p)),Se=W(()=>X(()=>import("./CiBV2ZED.js").then(p=>p.E),__vite__mapDeps([24,1,2,7,25,26,27,28,13,14,21,20,29,30,31,32,33,34,35,36,18,37,38,39,40,8,12,41,5,6,16,17,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58]),import.meta.url).then(p=>p.default||p)),Ne=["data-test-id"],Ue={key:2,class:"text-red-500"},Ve={key:0,class:"flex-1"},He={key:1},ze={key:1},Ge={class:"nc-edit-or-add-provider-wrapper"},qe=pe({__name:"Cell",props:{column:{},required:{type:[Boolean,Number]},hideMenu:{type:Boolean},hideIcon:{type:Boolean},hideIconTooltip:{type:Boolean},isHiddenCol:{type:Boolean},showLockIcon:{type:Boolean}},setup(p){const E=p,{isMobileMode:h}=me(),I=K(E,"hideMenu"),B=x(fe,d(!1)),m=x(ve,d(!1)),R=x(_e,d(!1)),l=x(ye,d(!1)),r=x(xe,d(!1)),i=d(!1),Y=x(we,d(!1)),O=x(he),o=K(E,"column"),{isUIAllowed:f,isMetaReadOnly:$}=Ie(),{isAllowed:ee}=Be();Oe(Fe,o);const s=d(!1),C=d(null),te=P(()=>{var t;return!E.showLockIcon||!((t=o.value)!=null&&t.id)?!0:ee(ke.FIELD,o.value.id,be.RECORD_FIELD_EDIT)}),oe=P(()=>{var t;return((t=O.value)==null?void 0:t.type)==="view"}),ne=P(()=>{var t,n,k,y;if(o.value.uidt===ge.LongText){if((n=J((t=o.value)==null?void 0:t.meta))!=null&&n.richMode)return F.RichText;if((y=J((k=o.value)==null?void 0:k.meta))!=null&&y[Ee])return F.AIPrompt}return o.value.uidt?F[o.value.uidt]:""}),le=async t=>{C.value=t,s.value=!0},S=d(),D=d(!1);Ce(s,t=>{t||(D.value=!1)});const N=()=>{C.value=null,s.value=!1},se=P(()=>{var t,n;return!($.value&&!De.includes((t=o.value)==null?void 0:t.uidt)&&!Te.includes((n=o.value)==null?void 0:n.uidt))}),U=(t,n=!1)=>{l.value&&(t==null?void 0:t.type)==="dblclick"||r.value||oe.value||!m.value&&f("fieldEdit")&&!h.value&&(se.value||n)&&(n&&(D.value=!0),s.value=!0)},ae=t=>{m.value||!f("fieldEdit")&&!h.value||(t.preventDefault(),t.stopPropagation(),i.value=!i.value)},ie=()=>{var t;s.value=!0,(t=S.value)!=null&&t.shouldKeepModalOpen()||(s.value=!1,D.value=!1)},re=t=>{if(!(h.value||!f("fieldEdit"))){if(i.value)t.preventDefault(),t.stopPropagation();else if(l.value&&!s.value&&!r.value){i.value=!0;return}i.value=!1}};return(t,n)=>{var V,H,z,G,q;const k=Pe,y=je,T=Ae,de=Re,ue=Se,ce=Me;return a(),v("div",{class:w(["flex items-center w-full text-xs text-gray-500 font-weight-medium group",{"h-full":e(o),"flex-col !items-start justify-center pt-0.5":e(l)&&!e(h)&&!e(r),"nc-cell-expanded-form-header cursor-pointer hover:bg-gray-100":e(l)&&!e(h)&&e(f)("fieldEdit")&&!e(r),"bg-gray-100":e(l)&&!e(r)?e(s)||e(i):!1}]),onDblclick:n[5]||(n[5]=b=>U(b,!1)),onContextmenu:M(ae,["right"]),onClick:re},[L("div",{class:w(["nc-cell-name-wrapper flex-1 flex items-center",{"max-w-[calc(100%_-_23px)]":!e(l)&&!((V=e(o).description)!=null&&V.length),"max-w-[calc(100%_-_44px)]":!e(l)&&((H=e(o).description)==null?void 0:H.length),"max-w-full":e(l)&&!e(r)}])},[e(o)&&!E.hideIcon?(a(),v(Z,{key:0},[e(B)?(a(),_(y,{key:0,class:"flex items-center",placement:"bottom",disabled:t.hideIconTooltip||(e(l)&&!e(r)?e(s)||e(i):!1)},{title:c(()=>[j(A(e(ne)),1)]),default:c(()=>[g(k,{class:w({"self-start":e(m)||e(R)})},null,8,["class"])]),_:1},8,["disabled"])):(a(),_(k,{key:1,class:w({"self-start":e(m)||e(R)})},null,8,["class"]))],64)):u("",!0),e(o)?(a(),_(y,{key:1,class:w([{"cursor-pointer":!e(m)&&e(f)("fieldEdit")&&!e(I),"cursor-default":e(m)||!e(f)("fieldEdit")||e(I),truncate:!e(m)},"name pl-1 max-w-full"]),placement:"bottom","show-on-truncate-only":"",disabled:e(l)&&!e(r)?e(s)||e(i):!1},{title:c(()=>[j(A(e(o).title),1)]),default:c(()=>[L("span",{"data-test-id":e(o).title,class:w({"select-none":e(l)&&!e(r)})},A(e(o).title),11,Ne)]),_:1},8,["class","disabled"])):u("",!0),e(o).rqd&&!e(o).cdf||t.required?(a(),v("span",Ue," *")):u("",!0),e(te)?u("",!0):(a(),_(T,{key:3,icon:"ncLock",class:"nc-column-lock-icon flex-none !ml-1 w-3.5 h-3.5 opacity-90"})),e(l)&&!e(r)&&!e(h)&&e(f)("fieldEdit")&&!e(I)?(a(),_(T,{key:4,icon:"arrowDown",class:w(["nc-column-context-menu flex-none cursor-pointer ml-1 group-hover:visible w-4 h-4",{visible:e(s)||e(i),invisible:!(e(s)||e(i))}])},null,8,["class"])):u("",!0)],2),(z=e(o).description)!=null&&z.length&&e(Y)&&e(B)&&!e(l)&&!e(I)?(a(),_(y,{key:0},{title:c(()=>[j(A(e(o).description),1)]),default:c(()=>[g(T,{icon:"info",class:"group-hover:opacity-100 !w-3.5 !h-3.5 !text-gray-500 flex-none"})]),_:1})):u("",!0),!e(I)||(G=e(O))!=null&&G.synced?(a(),v(Z,{key:1},[e(l)?u("",!0):(a(),v("div",Ve)),!e(l)&&((q=e(O))!=null&&q.synced)&&e(o).readonly?(a(),v("div",He,[g(y,{class:"flex items-center",placement:"bottom"},{title:c(()=>n[6]||(n[6]=[j(" This field is synced ")])),default:c(()=>[g(T,{icon:"ncZap",class:"flex-none !w-4 !h-4 !text-gray-500"})]),_:1})])):!e(m)&&e(f)("fieldEdit")?(a(),_(de,{key:2,"is-open":e(i),"onUpdate:isOpen":n[0]||(n[0]=b=>Q(i)?i.value=b:null),"is-hidden-col":t.isHiddenCol,onAddColumn:le,onEdit:U},null,8,["is-open","is-hidden-col"])):u("",!0)],64)):u("",!0),g(ce,{visible:e(s),"onUpdate:visible":n[4]||(n[4]=b=>Q(s)?s.value=b:null),class:"h-full",trigger:["click"],placement:e(l)&&!e(r)?"bottomLeft":"bottomRight","overlay-class-name":`nc-dropdown-edit-column ${e(s)?"active":""}`,onVisibleChange:ie},{overlay:c(()=>[L("div",Ge,[e(s)?(a(),_(ue,{key:0,ref_key:"editOrAddProviderRef",ref:S,column:e(C)?null:e(o),"column-position":e(C),class:"w-full","edit-description":e(D),onSubmit:N,onCancel:N,onClick:n[2]||(n[2]=M(()=>{},["stop"])),onKeydown:n[3]||(n[3]=M(()=>{},["stop"]))},null,8,["column","column-position","edit-description"])):u("",!0)])]),default:c(()=>[e(l)&&!e(r)?(a(),v("div",{key:0,class:"h-[1px]",onDblclick:n[1]||(n[1]=M(()=>{},["stop"]))}," ",32)):(a(),v("div",ze))]),_:1},8,["visible","placement","overlay-class-name"])],34)}}}),Ze=Object.assign(Le(qe,[["__scopeId","data-v-d6995346"]]),{__name:"SmartsheetHeaderCell"});export{Ze as default};
