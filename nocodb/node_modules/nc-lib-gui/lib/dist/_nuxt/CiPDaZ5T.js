import{e as re,a8 as R,al as fe,c as v,ao as be,L as e,o as s,a as u,ag as V,b as t,f as Ie,a9 as xe,J as we,r as Z,n as I,aG as Te,P as _e,w as a,M as he,an as L,aq as pe,K as _,I as C,aA as ye,t as m,d as Q,ap as ke,oH as Re,_ as We,as as Ne,a7 as Oe,V as ge,U as Ke,am as Ue,aE as Pe,ah as de,N as He,aH as q,aI as Fe,aK as Ge,aX as qe,c2 as Je,u as Ae,aL as Xe,oI as Ye,bv as Qe,bw as Ze,iQ as et,iP as tt,iO as Ee,iN as nt,bx as at,kE as it,ac as ot,aJ as st,ad as oe,oJ as lt,aU as Ce,dB as rt,aQ as se,g as $e,i as ct,cn as me}from"./DOFFjK0_.js";import{_ as dt,a as ut,c as pt,d as mt}from"./oqUeZVz8.js";import{S as vt}from"./Cl-qOJW6.js";import bt from"./BncWHlAr.js";import{_ as Me}from"./Bvj7PEZG.js";import{_ as De}from"./D_wq2ltS.js";import{_ as ze}from"./BNo10Mdm.js";import{_ as _t}from"./BpgQOThx.js";import{_ as je}from"./9aYOtC5C.js";import{_ as ft}from"./SpSJ8E4d.js";import{u as wt}from"./DmoodaOn.js";import{u as ht}from"./D0s_72GC.js";import{r as yt,a as ve}from"./CJtI8BMq.js";import{_ as kt}from"./DlNlU8Bq.js";import{g as Se,M as gt}from"./BjYZnuzO.js";import{u as Ct}from"./AxsiR11P.js";import{u as $t}from"./C9H3ht2d.js";import"./BlIUVhTI.js";import"./Db9kSA7A.js";import"./ps5He39s.js";import"./CHgOe2F-.js";import"./BHf1eO7s.js";import"./BNY-DJUS.js";import"./C6nWwNvX.js";import"./hayhBYSD.js";import"./DoZsC7ga.js";import"./DJYXGfCo.js";import"./RfUK_fd6.js";const St={key:0,class:"nc-mini-sidebar-btn-full-width"},It=re({__name:"ItemWrapper",props:{size:{default:"default"}},setup(ae){const{isWorkspacesLoading:ee}=R(fe());return(r,J)=>{const W=vt;return e(ee)?(s(),v("div",St,[u("div",{class:V(["w-7",{"h-7 ":r.size==="default","h-9 py-1":r.size==="small"}])},[t(W,{active:"",shape:"square",class:"!h-full !w-full !children:rounded-md !children:w-7 !children:h-7"})],2)])):be(r.$slots,"default",{key:1})}}}),Tt=Object.assign(It,{__name:"DashboardMiniSidebarItemWrapper"}),Nt={class:"nc-mini-sidebar-btn-full-width"},Ot={class:"w-full py-1 flex items-center justify-center"},At={class:"normal-case"},Et=re({__name:"Help",setup(ae){const{$e:ee}=Ie(),{t:r}=xe(),{isMobileMode:J}=we(),{navigateToFeed:W}=fe(),O=Z(!1),$=Z(),f=I(()=>[{category:r("general.resources"),items:[{title:r("labels.documentation"),icon:"file",e:"e:nocodb:docs-open",link:"https://nocodb.com/docs/product-docs"},{title:r("labels.apis"),icon:"ncCode",e:"",link:"",subItems:[{title:r("labels.dataApiV2"),e:"c:nocodb:data-api-open",link:"https://nocodb.com/apis/v2/data"},{title:r("labels.metaApiV2"),e:"c:nocodb:meta-api-open",link:"https://nocodb.com/apis/v2/meta"}]}]},{category:r("general.community"),items:[{title:r("title.forum"),icon:"ncDiscordForum",e:"c:nocodb:forum-open",link:"https://community.nocodb.com/"},{title:r("general.youtube"),icon:"ncYoutube",e:"c:nocodb:youtube-open",link:"https://www.youtube.com/@nocodb"},{title:"X",icon:"ncLogoTwitter",link:"https://twitter.com/nocodb",e:"c:nocodb:twitter"}]},{category:r("general.contactSupport"),items:[{title:"support@nocodb.com",icon:"ncMail",e:"c:nocodb:contact-us-mail-copy",link:"",copyBtn:!0,tooltip:r("labels.clickToCopy")}],hidden:!0},{category:r("title.whatsNew"),items:[{title:r("general.changelog"),icon:"ncList",e:"c:nocodb:changelog-open",link:"",onClick:()=>W(void 0,void 0,{tab:"github"})}],hidden:!!J.value}]),w=h=>{var d,l,j;h.e&&ee(h.e,{trigger:"mini-sidebar"}),h.onClick?(h.onClick(),O.value=!1):h.link.startsWith("http")?window.open(h.link,"_blank"):h.link&&Re(h.link,"_blank"),h.copyBtn&&$.value&&((j=(l=(d=$.value)==null?void 0:d[0])==null?void 0:l.copyContent)==null||j.call(l,h.title))};return(h,d)=>{const l=he,j=ye,te=Me,K=De,ne=ze,U=_t,x=ke,B=je,A=Te;return s(),v("div",Nt,[t(A,{visible:e(O),"onUpdate:visible":d[0]||(d[0]=E=>_e(O)?O.value=E:null),placement:e(J)?"topRight":"right","overlay-class-name":"!min-w-55"},{overlay:a(()=>[t(B,{variant:"small"},{default:a(()=>[(s(!0),v(L,null,pe(e(f),(E,T)=>(s(),v(L,{key:T},[E.hidden?_("",!0):(s(),v(L,{key:0},[T!==0?(s(),C(j,{key:0})):_("",!0),t(te,null,{default:a(()=>[u("span",At,m(E.category),1)]),_:2},1024),(s(!0),v(L,null,pe(E.items,(p,P)=>(s(),v(L,{key:P},[p.hidden?_("",!0):(s(),v(L,{key:0},[p.subItems?(s(),C(ne,{key:0,class:"py-0",variant:"small"},{title:a(()=>[p.icon?(s(),C(l,{key:0,icon:p.icon,class:"h-4 w-4"},null,8,["icon"])):_("",!0),Q(" "+m(p.title),1)]),default:a(()=>[(s(!0),v(L,null,pe(p.subItems,(y,n)=>(s(),v(L,{key:n},[y.hidden?_("",!0):(s(),C(K,{key:0,onClick:S=>w(y)},{default:a(()=>[y.icon?(s(),C(l,{key:0,icon:y.icon,class:"h-4 w-4"},null,8,["icon"])):_("",!0),Q(" "+m(y.title),1)]),_:2},1032,["onClick"]))],64))),128))]),_:2},1024)):(s(),C(x,{key:1,title:p.tooltip,disabled:!p.tooltip,placement:"top","hide-on-click":""},{default:a(()=>[t(K,{onClick:y=>w(p)},{default:a(()=>[p.icon?(s(),C(l,{key:0,icon:p.icon,class:"h-4 w-4"},null,8,["icon"])):_("",!0),Q(" "+m(p.title)+" ",1),p.copyBtn?(s(),C(U,{key:1,ref_for:!0,ref_key:"copyBtnRef",ref:$,type:"secondary",content:p.title,"show-toast":!1},null,8,["content"])):_("",!0)]),_:2},1032,["onClick"])]),_:2},1032,["title","disabled"]))],64))],64))),128))],64))],64))),128))]),_:1})]),default:a(()=>[u("div",Ot,[u("div",{class:V(["nc-mini-sidebar-btn",{hovered:e(O)}])},[t(l,{icon:"ncHelp"})],2)])]),_:1},8,["visible","placement"])])}}}),Mt=Object.assign(Et,{__name:"DashboardMiniSidebarHelp"}),Dt={};function zt(ae,ee){const r=ft;return s(),C(r)}const jt=Object.assign(We(Dt,[["render",zt]]),{__name:"DashboardSidebarChatSupport"}),Bt={key:0,class:"nc-mini-sidebar-btn-full-width"},Lt={class:"w-full py-1 flex items-center justify-center"},Vt={class:"normal-case"},xt=re({__name:"CreateNewActionMenu",setup(ae){const{$e:ee}=Ie(),{isUIAllowed:r,orgRoles:J,workspaceRoles:W}=Ne(),{openedProject:O,showProjectList:$}=R(Oe()),{base:f,isSharedBase:w}=R(ge()),h=Ke(),{openTableCreateDialog:d}=h,{activeTable:l}=R(h),{openNewScriptModal:j}=wt(),{openNewDashboardModal:te}=ht(),K=Ue(),{loadViews:ne,onOpenViewCreateModal:U}=K,{activeView:x}=R(K),{isAiFeaturesEnabled:B}=Pe(),A=Z(!1),E=Z(!1),T=Z(!1),p=Z(),P=I(()=>{var i;return((i=l.value)==null?void 0:i.type)==="view"}),y=I(()=>{var i;return(i=f.value.sources)==null?void 0:i.find(o=>{var g;return o.id===((g=x.value)==null?void 0:g.source_id)})});async function n({title:i="",type:o,copyViewId:g,groupingFieldColumnId:ie,calendarRange:D,coverImageColumnId:Y}){var H;if(!T.value){ee("c:view:create:mini-sidebar",{view:o==="AI"?o:Ge[o]}),p.value=o,T.value=!0;try{await ne({tableId:l.value.id})}catch(F){console.log("error",F)}A.value=!1,T.value=!1,U({title:i,type:o,copyViewId:g,groupingFieldColumnId:ie,calendarRange:D,coverImageColumnId:Y,baseId:f.value.id,tableId:l.value.id,sourceId:(H=l.value)==null?void 0:H.source_id})}}function S(){var i,o;d({baseId:(i=f.value)==null?void 0:i.id,sourceId:(o=f.value.sources)==null?void 0:o[0].id})}const X=I(()=>r("baseCreate",{roles:W??J})),N=I(()=>!$.value&&!!O.value),k=I(()=>{var i,o,g;return!f.value||!N.value?!0:r("tableCreate",{roles:((i=f.value)==null?void 0:i.project_role)||f.value.workspace_role,source:(g=(o=f.value)==null?void 0:o.sources)==null?void 0:g[0]})}),M=I(()=>!f.value||!N.value?!0:r("viewCreateOrEdit")),c=I(()=>!f.value||!N.value?!0:r("scriptCreateOrEdit")),b=I(()=>!f.value||!N.value?!0:r("dashboardCreate"));return(i,o)=>{const g=he,ie=Me,D=De,Y=ke,H=Fe,F=ye,ce=ze,Be=je,Le=Te,Ve=dt;return e(w)?_("",!0):(s(),v("div",Bt,[t(Le,{visible:e(A),"onUpdate:visible":o[10]||(o[10]=G=>_e(A)?A.value=G:null),placement:"right","overlay-class-name":"!min-w-48"},{overlay:a(()=>[t(Be,{variant:"small",onClick:o[9]||(o[9]=G=>A.value=!1)},{default:a(()=>[t(ie,null,{default:a(()=>[u("span",Vt,m(i.$t("labels.createNew")),1)]),_:1}),e(X)?(s(),C(D,{key:0,"data-testid":"mini-sidebar-base-create",onClick:o[0]||(o[0]=G=>E.value=!0)},{default:a(()=>[t(g,{icon:"ncBaseOutline",class:"h-4 w-4"}),Q(" "+m(i.$t("objects.project")),1)]),_:1})):_("",!0),t(Y,{title:e(k)?i.$t("tooltip.navigateToBaseToCreateTable"):i.$t("tooltip.youDontHaveAccessToCreateNewTable"),disabled:!(!e(N)||!e(k)),placement:"right"},{default:a(()=>[t(D,{"data-testid":"mini-sidebar-table-create",disabled:!e(N)||!e(k),onClick:S},{default:a(()=>[t(g,{icon:"table"}),Q(" "+m(i.$t("objects.table")),1)]),_:1},8,["disabled"])]),_:1},8,["title","disabled"]),("isEeUI"in i?i.isEeUI:e(de))?(s(),C(Y,{key:1,title:e(b)?i.$t("tooltip.navigateToBaseToCreateDashboard"):i.$t("tooltip.youDontHaveAccessToCreateNewDashboard"),disabled:!(!e(N)||!e(b)),placement:"right"},{default:a(()=>[t(D,{"data-testid":"mini-sidebar--dashboard-create",disabled:!e(N)||!e(b),onClick:o[1]||(o[1]=G=>{var z;return e(te)({baseId:(z=e(O))==null?void 0:z.id})})},{default:a(()=>[t(g,{icon:"dashboards"}),Q(" "+m(i.$t("general.dashboard")),1)]),_:1},8,["disabled"])]),_:1},8,["title","disabled"])):_("",!0),t(Y,{title:e(M)?i.$t("tooltip.navigateToTableToCreateView"):i.$t("tooltip.youDontHaveAccessToCreateNewView"),disabled:!(!e(f)||!e(l)||!e(M)),placement:"right"},{default:a(()=>[t(ce,{class:"py-0","data-testid":"mini-sidebar-view-create",variant:"small",disabled:!e(f)||!e(l)||!e(M)},{title:a(()=>[t(g,{icon:"grid"}),Q(" "+m(i.$t("objects.view")),1)]),default:a(()=>{var G;return[t(D,{"data-testid":"mini-sidebar-view-create-grid",onClick:o[2]||(o[2]=He(z=>n({type:e(q).GRID}),["stop"]))},{default:a(()=>[t(H,{meta:{type:e(q).GRID}},null,8,["meta"]),u("div",null,m(i.$t("objects.viewType.grid")),1)]),_:1}),t(Y,{title:i.$t("tooltip.sourceDataIsReadonly"),disabled:!((G=e(y))!=null&&G.is_data_readonly)&&!e(P)},{default:a(()=>{var z;return[t(D,{disabled:!!((z=e(y))!=null&&z.is_data_readonly)||e(P),"data-testid":"mini-sidebar-view-create-form",onClick:o[3]||(o[3]=ue=>n({type:e(q).FORM}))},{default:a(()=>{var ue;return[t(H,{meta:{type:e(q).FORM},class:V({"opacity-50":!!((ue=e(y))!=null&&ue.is_data_readonly)||e(P)})},null,8,["meta","class"]),u("div",null,m(i.$t("objects.viewType.form")),1)]}),_:1},8,["disabled"])]}),_:1},8,["title","disabled"]),t(D,{"data-testid":"mini-sidebar-view-create-gallery",onClick:o[4]||(o[4]=z=>n({type:e(q).GALLERY}))},{default:a(()=>[t(H,{meta:{type:e(q).GALLERY}},null,8,["meta"]),u("div",null,m(i.$t("objects.viewType.gallery")),1)]),_:1}),t(D,{"data-testid":"mini-sidebar-view-create-kanban",onClick:o[5]||(o[5]=z=>n({type:e(q).KANBAN}))},{default:a(()=>[t(H,{meta:{type:e(q).KANBAN}},null,8,["meta"]),u("div",null,m(i.$t("objects.viewType.kanban")),1)]),_:1}),t(D,{"data-testid":"mini-sidebar-view-create-calendar",onClick:o[6]||(o[6]=z=>n({type:e(q).CALENDAR}))},{default:a(()=>[t(H,{meta:{type:e(q).CALENDAR},class:"!w-4 !h-4"},null,8,["meta"]),u("div",null,m(i.$t("objects.viewType.calendar")),1)]),_:1}),e(B)?(s(),v(L,{key:0},[t(F),t(D,{"data-testid":"mini-sidebar-view-create-ai",onClick:o[7]||(o[7]=z=>n({type:"AI"}))},{default:a(()=>[t(g,{icon:"ncAutoAwesome",class:"!w-4 !h-4 text-nc-fill-purple-dark"}),u("div",null,m(i.$t("labels.useNocoAI")),1)]),_:1})],64)):_("",!0)]}),_:1},8,["disabled"])]),_:1},8,["title","disabled"]),("isEeUI"in i?i.isEeUI:e(de))?(s(),v(L,{key:2},[t(F),t(Y,{title:e(c)?i.$t("tooltip.navigateToBaseToCreateAutomation"):i.$t("tooltip.youDontHaveAccessToCreateNewAutomation"),disabled:!(!e(N)||!e(c)),placement:"right"},{default:a(()=>[t(D,{"data-testid":"mini-sidebar--script-create",disabled:!e(N)||!e(c),onClick:o[8]||(o[8]=G=>{var z;return e(j)({baseId:(z=e(O))==null?void 0:z.id})})},{default:a(()=>[t(g,{icon:"ncScript"}),Q(" "+m(i.$t("general.script")),1)]),_:1},8,["disabled"])]),_:1},8,["title","disabled"])],64)):_("",!0)]),_:1})]),default:a(()=>[u("div",Lt,[u("div",{class:V(["border-1 w-7 h-7 flex-none rounded-full overflow-hidden transition-all duration-300 flex items-center justify-center bg-nc-bg-gray-medium",{"border-nc-gray-medium":!e(A),"active border-primary shadow-selected":e(A)}])},[t(g,{icon:"ncPlus"})],2)])]),_:1},8,["visible"]),t(Ve,{modelValue:e(E),"onUpdate:modelValue":o[11]||(o[11]=G=>_e(E)?E.value=G:null)},null,8,["modelValue"])]))}}}),Rt=Object.assign(xt,{__name:"DashboardMiniSidebarCreateNewActionMenu"}),Wt={class:"nc-mini-sidebar","data-testid":"nc-mini-sidebar"},Kt={class:"flex flex-col items-center"},Ut={class:"flex gap-1.5"},Pt={class:"px-1 text-bodySmBold text-white bg-gray-700 rounded"},Ht={class:"px-2 w-full"},Ft={class:"flex items-center gap-1"},Gt={class:"nc-mini-sidebar-btn"},qt={class:"flex items-center gap-1"},Jt={class:"nc-mini-sidebar-btn"},Xt={class:"flex items-center gap-1"},Yt={class:"nc-mini-sidebar-btn"},Qt={key:0,class:"px-2 my-2 w-full"},Zt={class:"px-2 w-full"},en={class:"flex flex-col items-center"},tn={class:"px-2 w-full"},nn={key:1,class:"px-2 w-full"},an=re({__name:"MiniSidebar",setup(ae){qe(Je,Z(!0));const r=Ae().currentRoute,{appInfo:J,navigateToProject:W,isMobileMode:O}=we(),{meta:$,control:f}=Xe(),w=fe(),{activeWorkspaceId:h,isWorkspaceSettingsPageOpened:d,isIntegrationsPageOpened:l,isWorkspacesLoading:j}=R(w),{navigateToWorkspaceSettings:te,navigateToIntegrations:K}=w,{basesList:ne,showProjectList:U}=R(Oe()),{isSharedBase:x}=R(ge()),{isUIAllowed:B}=Ne(),{setActiveCmdView:A}=Ye(),E=I(()=>{var n;return((n=r.value.name)==null?void 0:n.startsWith("index-typeOrId-baseId-"))||r.value.name==="index"||r.value.name==="index-typeOrId"}),T=I(()=>{var n;return(((n=r.value.name)==null?void 0:n.startsWith("index-typeOrId-baseId-"))||r.value.name==="index"||r.value.name==="index-typeOrId")&&U.value}),p=()=>{var n,S,X;if((n=r.value.name)!=null&&n.startsWith("index-typeOrId-baseId-")){U.value=!U.value;return}W({workspaceId:void 0,baseId:(X=(S=ne.value)==null?void 0:S[0])==null?void 0:X.id})},P=()=>{const n=Ce()?$.value:f.value;te("",n)},y=()=>{const n=Ce()?$.value:f.value;K("",n)};return Qe(document,"keydown",async n=>{const S=n.target instanceof HTMLInputElement&&n.target.closest(".nc-base-search-input");if(!(!n.altKey||!S&&(Ze(n)||et()||tt()||Ee()||nt()||at()||it())))switch(n.code){case"KeyB":{n.preventDefault(),p();break}}}),(n,S)=>{const X=st,N=ut,k=Tt,M=he,c=ke,b=ye,i=lt,o=bt,g=Mt,ie=pt,D=jt,Y=Rt,H=mt,F=ot("e");return s(),v("div",Wt,[u("div",Kt,[t(k,{size:"small"},{default:a(()=>[u("div",{class:V(["min-h-9 sticky top-0 bg-[var(--mini-sidebar-bg-color)]",{"pt-1.5 pb-2.5":e(O)}])},[e(j)?(s(),C(X,{key:0,size:"large"})):(s(),C(N,{key:1}))],2)]),_:1}),t(k,null,{default:a(()=>[t(c,{placement:"right","hide-on-click":"",arrow:!1},{title:a(()=>[u("div",Ut,[Q(m(n.$t("labels.baseList"))+" ",1),u("div",Pt,m(("renderAltOrOptlKey"in n?n.renderAltOrOptlKey:e(yt))(!0))+" B",1)])]),default:a(()=>[u("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-project-btn",onClick:p},[u("div",{class:V(["nc-mini-sidebar-btn",{active:e(T),"active-base":e(E)}])},[t(M,{icon:"ncBaseOutline",class:"h-4 w-4"})],2)])]),_:1})]),_:1}),u("div",Ht,[t(b,{class:"!border-nc-border-gray-dark !my-1"})]),e(O)?_("",!0):(s(),v(L,{key:0},[t(k,null,{default:a(()=>[t(c,{placement:"right","hide-on-click":"",arrow:!1},{title:a(()=>[u("div",Ft,m(n.$t("labels.quickSearch"))+" "+m(("renderCmdOrCtrlKey"in n?n.renderCmdOrCtrlKey:e(ve))(!0))+" K",1)]),default:a(()=>[oe((s(),v("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-cmd-k-btn",onClick:S[0]||(S[0]=ce=>e(A)("cmd-k"))},[u("div",Gt,[t(M,{icon:"search",class:"h-4 w-4"})])])),[[F,["c:quick-actions"]]])]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(c,{placement:"right","hide-on-click":"",arrow:!1},{title:a(()=>[u("div",qt,m(n.$t("labels.recentViews"))+" "+m(("renderCmdOrCtrlKey"in n?n.renderCmdOrCtrlKey:e(ve))(!0))+" L",1)]),default:a(()=>[oe((s(),v("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-cmd-l-btn",onClick:S[1]||(S[1]=ce=>e(A)("cmd-l"))},[u("div",Jt,[t(i,{class:"h-4 w-4"})])])),[[F,["c:quick-actions"]]])]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(c,{placement:"right","hide-on-click":"",arrow:!1},{title:a(()=>[u("div",Xt,m(n.$t("labels.searchDocumentation"))+" "+m(("renderCmdOrCtrlKey"in n?n.renderCmdOrCtrlKey:e(ve))(!0))+" J",1)]),default:a(()=>[oe((s(),v("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-cmd-j-btn",onClick:S[2]||(S[2]=ce=>e(A)("cmd-j"))},[u("div",Yt,[t(M,{icon:"ncFile",class:"h-4 w-4"})])])),[[F,["c:quick-actions"]]])]),_:1})]),_:1}),e(B)("workspaceSettings")?(s(),v("div",Qt,[t(b,{class:"!my-0 !border-nc-border-gray-dark"})])):_("",!0),e(B)("workspaceSettings")||e(B)("workspaceCollaborators")?(s(),C(k,{key:1},{default:a(()=>[t(c,{title:("isEeUI"in n?n.isEeUI:e(de))?`${n.$t("objects.workspace")} ${n.$t("labels.settings")}`:n.$t("title.teamAndSettings"),placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[oe((s(),v("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-team-settings-btn",onClick:P},[u("div",{class:V(["nc-mini-sidebar-btn",{active:e(d)}])},[t(M,{icon:"ncSettings",class:"h-4 w-4"})],2)])),[[F,["c:team:settings"]]])]),_:1},8,["title"])]),_:1})):_("",!0),e(B)("workspaceIntegrations")?(s(),C(k,{key:2},{default:a(()=>[t(c,{title:("isEeUI"in n?n.isEeUI:e(de))?`${n.$t("objects.workspace")} ${n.$t("general.integrations")}`:n.$t("general.integrations"),placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[oe((s(),v("div",{class:"nc-mini-sidebar-btn-full-width","data-testid":"nc-sidebar-integrations-btn",onClick:y},[u("div",{class:V(["nc-mini-sidebar-btn",{active:e(l)}])},[t(M,{icon:"integration",class:"h-4 w-4"})],2)])),[[F,["c:integrations"]]])]),_:1},8,["title"])]),_:1})):_("",!0),u("div",Zt,[t(b,{class:"!my-0 !border-nc-border-gray-dark !my-2"})]),t(k,null,{default:a(()=>[t(c,{title:n.$t("labels.myNotifications"),placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[t(o)]),_:1},8,["title"])]),_:1})],64))]),u("div",en,[t(k,null,{default:a(()=>[t(c,{title:n.$t("general.help"),placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[t(g)]),_:1},8,["title"])]),_:1}),e(O)?(s(),v("div",nn,[t(b,{class:"!my-2 !border-nc-border-gray-dark"})])):(s(),v(L,{key:0},[t(k,null,{default:a(()=>[e(J).feedEnabled?(s(),C(c,{key:0,title:`${n.$t("title.whatsNew")}!`,placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[t(ie)]),_:1},8,["title"])):_("",!0)]),_:1}),t(k,null,{default:a(()=>[t(c,{title:`${n.$t("labels.chatWithNocoDBSupport")}!`,placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[t(D)]),_:1},8,["title"])]),_:1}),u("div",tn,[t(b,{class:"!my-2 !border-nc-border-gray-dark"})]),t(k,null,{default:a(()=>[e(x)?_("",!0):(s(),C(c,{key:0,title:n.$t("labels.createNew"),placement:"right","hide-on-click":"",arrow:!1},{default:a(()=>[t(Y)]),_:1},8,["title"]))]),_:1})],64)),t(H)])])}}}),on=Object.assign(an,{__name:"DashboardMiniSidebar"}),sn={class:"h-full flex items-stretch"},le=250,ln=re({__name:"View",setup(ae){const r=Ae().currentRoute,{setLeftSidebarSize:J}=we(),W=Ct(),{handleSidebarOpenOnMobileForNonViews:O}=W,{isMobileMode:$}=R(W),f=rt(),{isLeftSidebarOpen:w,leftSidebarWidthPercent:h,leftSideBarSize:d,leftSidebarState:l,mobileNormalizedSidebarSize:j,hideMiniSidebar:te,hideSidebar:K,showTopbar:ne,isNewSidebarEnabled:U,miniSidebarWidth:x}=R($t()),{isSharedBase:B}=R(ge()),A=I(()=>r.value.params.typeOrId),E=Z(),T=Z(window.innerWidth),p=I({get:()=>d.value.current,set:c=>{d.value.current=c,d.value.old=c}}),P=I(()=>$.value?w.value?0:100:100-h.value);se(p,()=>{h.value=p.value/T.value*100,J({current:p.value,old:d.value.old})});const y=I(()=>$.value?T.value:d.value.old),n=c=>{const b=parseFloat(getComputedStyle(document.documentElement).fontSize);return c*b},S=I(()=>{const c=n(T.value<=1560?20:35),b=n(16);return y.value>c?c-x.value:y.value<b?b-x.value:y.value-(l.value==="openEnd"?x.value:0)});se(w,()=>{d.value.current=d.value.old,w.value?(setTimeout(()=>l.value="openStart",0),setTimeout(()=>l.value="openEnd",le)):(d.value.old=d.value.current,d.value.current=0,l.value="hiddenStart",setTimeout(()=>{l.value="hiddenEnd"},le))},{immediate:!0});function X(c){if(!$.value&&E.value&&l.value!=="openEnd"){if(c.clientX<4+x.value&&["hiddenEnd","peekCloseEnd"].includes(l.value))l.value="peekOpenStart",setTimeout(()=>{l.value="peekOpenEnd"},le);else if(c.clientX>y.value+10+x.value&&l.value==="peekOpenEnd"){if(c.target.closest(".nc-dropdown.active")||Ee())return;l.value="peekCloseOpen",setTimeout(()=>{l.value="peekCloseEnd"},le)}}}function N(c){T.value=window.innerWidth,!c&&w.value&&!d.value.current&&!$.value&&(p.value=d.value.old),h.value=p.value/T.value*100,c&&S.value<y.value&&k(h.value)}$e(()=>{document.addEventListener("mousemove",X),window.addEventListener("resize",N)}),ct(()=>{document.removeEventListener("mousemove",X),window.removeEventListener("resize",N)}),se(r,()=>{r.value.name==="index-index"&&(w.value=!0)}),se($,()=>{w.value=!$.value}),se(l,()=>{l.value==="peekCloseEnd"&&setTimeout(()=>{l.value="hiddenEnd"},le)}),$e(()=>{O()});function k(c){if($.value)return;const b=c*T.value/100,i=parseFloat(getComputedStyle(document.documentElement).fontSize);if(T.value<=1560&&b>n(20)){d.value.old=20*i,w.value&&(d.value.current=d.value.old);return}const o=b/i;if(o<16){d.value.old=16*i,w.value&&(d.value.current=d.value.old);return}else if(o>35){d.value.old=35*i,w.value&&(d.value.current=d.value.old);return}d.value.old=b,d.value.current=d.value.old}const M=I(()=>U.value&&!te.value&&f.sidebar&&!B.value&&(!$.value||w.value));return(c,b)=>{const i=on,o=kt;return s(),v("div",sn,[e(M)?(s(),C(i,{key:0})):_("",!0),u("div",{class:V({"w-[calc(100vw_-_var(--mini-sidebar-width))] flex-none":e(M),"w-screen flex-none":!e(M)})},[e(ne)?(s(),C(o,{key:0,"workspace-id":e(A)},null,8,["workspace-id"])):_("",!0),t(e(gt),{class:V(["nc-sidebar-content-resizable-wrapper h-full",{"hide-resize-bar":!e(w)||e(l)==="openStart"||e(K),"!w-[calc(100vw_-_var(--mini-sidebar-width))]":e(M)&&!e(B),"!w-screen":!e(M)||e(B)}]),onReady:b[0]||(b[0]=()=>N()),onResize:b[1]||(b[1]=g=>k(g[0].size))},{default:a(()=>[t(e(Se),{"min-size":"15%",size:e(j),"max-size":"60%",class:V(["nc-sidebar-splitpane !sm:max-w-140 relative !overflow-visible flex",{hidden:e(K)}]),style:me({width:`${e(j)}%`,"min-width":`${e(j)}%`})},{default:a(()=>[u("div",{ref_key:"wrapperRef",ref:E,class:V(["nc-sidebar-wrapper relative flex flex-col h-full justify-center !sm:max-w-140 absolute overflow-visible",{mobile:e($),"minimized-height":!e(w),"hide-sidebar":["hiddenStart","hiddenEnd","peekCloseEnd"].includes(e(l)),"nc-new-sidebar":e(U)}]),style:me({width:e(l)==="hiddenEnd"?"0px":`${e(y)}px`,minWidth:e(l)==="hiddenEnd"?"0px":`${e(S)}px`})},[be(c.$slots,"sidebar")],6)]),_:3},8,["size","class","style"]),t(e(Se),{size:e(P),class:"flex-grow !overflow-auto",style:me({"min-width":`${e(P)}%`})},{default:a(()=>[be(c.$slots,"content")]),_:3},8,["size","style"])]),_:3},8,["class"])],2)])}}}),Bn=Object.assign(ln,{__name:"DashboardView"});export{Bn as default};
