import{e as h,T as B,r as g,a9 as C,n as M,ab as y,aQ as S,I as v,o as m,L as l,P as V,w as n,a as r,c as E,K as b,ao as w,t as s,d,b as k,O as R,a4 as T,a5 as z}from"./DOFFjK0_.js";import{_ as j}from"./JUJEmhCv.js";import{_ as G}from"./BrfakvRE.js";const I={class:"flex flex-row pb-2 mb-3 font-medium text-lg text-gray-800"},K={key:0,class:"mb-3 text-gray-800"},O={class:"ml-1"},U={class:"flex flex-row gap-x-2 mt-2.5 pt-2.5 justify-end"},P=h({__name:"DeleteModal",props:{visible:{type:Boolean},entityName:{},onDelete:{},deleteLabel:{},showDefaultDeleteMsg:{type:Boolean,default:!0}},emits:["update:visible"],setup(x,{emit:D}){const o=x,t=B(o,"visible",D),i=g(!1),u=g(),{t:$}=C(),c=M(()=>o.deleteLabel??$("general.delete")),f=async()=>{i.value=!0;try{await o.onDelete(),t.value=!1}catch(e){console.error(e),T.error(await z(e))}finally{i.value=!1}};return y("Escape",()=>{t.value&&(t.value=!1)}),y("Enter",()=>{i.value||t.value&&f()}),S(t,e=>{e&&setTimeout(()=>{var a;(a=u.value)==null||a.focus()},100)}),(e,a)=>{const L=G,p=R,N=j;return m(),v(N,{visible:l(t),"onUpdate:visible":a[1]||(a[1]=_=>V(t)?t.value=_:null),size:"small",centered:""},{default:n(()=>[r("div",{ref_key:"modalRef",ref:u,class:"flex flex-col p-6"},[r("div",I,s(l(c))+" "+s(o.entityName),1),e.showDefaultDeleteMsg?(m(),E("div",K,[d(s(e.$t("msg.areYouSureUWantToDeleteLabel",{deleteLabel:l(c).toLowerCase()})),1),r("span",O,s(o.entityName.toLowerCase())+"?",1)])):b("",!0),w(e.$slots,"entity-preview"),e.$slots.warning?(m(),v(L,{key:1,type:"warning","show-icon":""},{message:n(()=>[w(e.$slots,"warning")]),_:3})):b("",!0),r("div",U,[k(p,{type:"secondary",size:"small",onClick:a[0]||(a[0]=_=>t.value=!1)},{default:n(()=>[d(s(e.$t("general.cancel")),1)]),_:1}),k(p,{key:"submit",type:"danger",size:"small","html-type":"submit",loading:l(i),"data-testid":"nc-delete-modal-delete-btn",onClick:f},{loading:n(()=>[d(s(e.$t("general.deleting")),1)]),default:n(()=>[d(s(`${l(c)} ${o.entityName}`)+" ",1)]),_:1},8,["loading"])])],512)]),_:3},8,["visible"])}}}),A=Object.assign(P,{__name:"GeneralDeleteModal"});export{A as default};
