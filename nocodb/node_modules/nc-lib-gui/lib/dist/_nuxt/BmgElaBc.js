const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CkXo2doe.js","./DOFFjK0_.js","./entry.DDfSYhWa.css","./CV-2bRRD.js","./TimeSelector.DAR2lbHN.css","./Czlq_f4Y.js","./Cgx2iu1G.js","./C6nWwNvX.js","./4PLl4EP6.js","./SJHyi9T4.js","./D2QgEzTv.js","./DcFNOSET.js","./boyBAVNN.js","./Cell.Dgtcn0F2.css"])))=>i.map(i=>d[i]);
import{e as L,aX as A,r,k9 as W,T as $,G as q,aZ as G,g as K,aQ as Q,a8 as X,V as Y,n as f,aj as o,jF as Z,c as v,L as a,o as i,b as d,w as x,a as n,M as H,t as c,N as E,O as J,K as V,ag as ee,d as te,aS as ae,I as le,aT as se,b9 as oe,ap as ne,gr as ue,$ as re,fs as ie,ox as de,aW as ce}from"./DOFFjK0_.js";import{_ as pe}from"./CQugZrqw.js";import{u as me}from"./4PLl4EP6.js";import{d as fe,c as ve}from"./ZNRZafJ9.js";import"./SJHyi9T4.js";import"./D2QgEzTv.js";import"./DcFNOSET.js";import"./boyBAVNN.js";import"./BhfICdUA.js";import"./NRjd0XWG.js";import"./RfUK_fd6.js";import"./DG2ZEhLK.js";import"./BYGCxle3.js";const _e=ae(()=>ce(()=>import("./CkXo2doe.js").then(u=>u.C),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url).then(u=>u.default||u)),he={key:0},we={class:"flex items-center gap-2"},ge={key:1},be={class:"w-full flex items-center gap-2 mb-2"},xe={class:"text-small leading-[18px] flex-1 text-gray-700"},Ve={class:"flex flex-row gap-2 relative"},ye={key:0,class:"absolute pointer-events-none h-full w-full bg-white z-2 top-0 left-0 rounded-full items-center flex bg-white"},Ce={class:"-ml-2"},De={key:0,class:"text-nc-content-red-medium text-small leading-[18px] mt-1"},ke=L({__name:"DefaultValue",props:{value:{},isVisibleDefaultValueInput:{type:Boolean}},emits:["update:value","update:isVisibleDefaultValueInput"],setup(u,{emit:N}){var T;const y=u,C=N;A(W,r(!0));const s=$(y,"value",C),_=q(G,r()),D=$(y,"isVisibleDefaultValueInput",C),B=r({row:{},oldRow:{},rowMeta:{isUpdatedFromCopyNPaste:[(T=s.value)==null?void 0:T.title]}});me(B);const{isAiModeFieldModal:j}=fe(),p=r(null),k=r(!1),h=r(),w=e=>{s.value={...s.value,cdf:e},p.value=e};K(()=>{var e;w(((e=s.value)==null?void 0:e.cdf)??null)}),Q(()=>s.value.cdf,e=>{p.value=e});const{sqlUis:g}=X(Y()),I=f(()=>{var e,t,l;return(e=_.value)!=null&&e.source_id&&g.value[(t=_.value)==null?void 0:t.source_id]?g.value[(l=_.value)==null?void 0:l.source_id]:Object.values(g.value)[0]}),R=f(()=>{var e,t,l;return[o.Date,o.DateTime].includes((e=s.value)==null?void 0:e.uidt)&&((l=(t=I.value)==null?void 0:t.getCurrentDateDefault)==null?void 0:l.call(t,s.value))}),M=f(()=>{var e,t,l,m;return R.value&&((t=(e=p.value)==null?void 0:e.toUpperCase)==null?void 0:t.call(e))===((m=(l=I.value)==null?void 0:l.getCurrentDateDefault)==null?void 0:m.call(l,s.value))}),{isSystem:U}=ve(),S=f(()=>Z(s.value)),z=()=>{D.value=!0,!ue()&&re(()=>{ie(300).then(()=>{h.value&&de(".nc-cell",h.value)})})};return(e,t)=>{const l=H,m=J,O=pe,P=_e,F=ne;return a(D)?(i(),v("div",ge,[n("div",be,[n("div",xe,c(e.$t("placeholder.defaultValue")),1)]),n("div",Ve,[n("div",{class:ee(["nc-default-value-wrapper border-1 flex items-center w-full px-3 border-gray-300 rounded-lg sm:min-h-[32px] xs:min-h-13 focus-within:border-brand-500 focus-within:shadow-selected focus-within:ring-0 transition-all duration-0.3s",{"bg-white":a(j)}])},[n("div",{ref_key:"defaultValueWrapperRef",ref:h,class:"relative flex-grow max-w-full"},[a(M)?(i(),v("div",ye,[n("div",Ce,[d(O,null,{default:x(()=>[te(c(e.$t("labels.currentDate")),1)]),_:1})])])):V("",!0),d(P,{"edit-enabled":!0,"model-value":a(p),column:a(s),class:"!border-none h-auto my-auto","onUpdate:cdf":w,"onUpdate:editEnabled":t[0]||(t[0]=b=>k.value=b),onClick:t[1]||(t[1]=b=>k.value=!0)},null,8,["model-value","column"])],512),d(F,{title:e.$t("general.clear"),class:"flex"},{default:x(()=>[![a(o).Year,a(o).Date,a(o).Time,a(o).DateTime,a(o).SingleSelect,a(o).MultiSelect].includes(a(s).uidt)||a(M)?(i(),le(se(("iconMap"in e?e.iconMap:a(oe)).close),{key:0,class:"w-4 h-4 cursor-pointer rounded-full z-3 !text-black-500 text-gray-500 hover:bg-gray-50 default-value-clear",onClick:t[2]||(t[2]=E(b=>w(null),["stop"]))})):V("",!0)]),_:1},8,["title"])],2)]),a(S)?(i(),v("div",De,c(e.$t(a(S))),1)):V("",!0)])):(i(),v("div",he,[d(m,{size:"small",type:"text",class:"!text-gray-700","data-testid":"nc-show-default-value-btn",disabled:a(U),onClick:E(z,["stop"])},{default:x(()=>[n("div",we,[d(l,{icon:"plus",class:"flex-none h-4 w-4"}),n("span",null,c(e.$t("general.set"))+" "+c(e.$t("placeholder.defaultValue").toLowerCase()),1)])]),_:1},8,["disabled"])]))}}}),Pe=Object.assign(ke,{__name:"SmartsheetColumnDefaultValue"});export{Pe as default};
