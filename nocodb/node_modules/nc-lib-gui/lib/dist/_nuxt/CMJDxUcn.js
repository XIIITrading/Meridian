import{a as z}from"./CkXo2doe.js";import{e as D,G as n,fT as G,r as l,gb as M,gD as O,ko as S,l4 as T,jd as A,kp as W,T as $,n as t,fF as V,fG as b,b0 as q,c as u,L as e,o as i,a as k,b as x,aw as H,w as J,cn as w,t as K,ag as Q,_ as X}from"./DOFFjK0_.js";import{_ as Y}from"./HdsRe6lq.js";import"./CV-2bRRD.js";import"./Czlq_f4Y.js";import"./Cgx2iu1G.js";import"./C6nWwNvX.js";import"./4PLl4EP6.js";import"./SJHyi9T4.js";import"./D2QgEzTv.js";import"./DcFNOSET.js";import"./boyBAVNN.js";const Z=["value"],ee=["tabindex"],oe={key:0,class:"px-2"},se={key:1,class:"nc-cell-field"},ne=D({__name:"Readonly",props:{modelValue:{},localEditEnabled:{type:Boolean}},emits:["update:localEditEnabled"],setup(y,{emit:E}){const o=y,I=E,m=n(G),c=n(M,l(!1)),r=n(O,l(!1)),f=n(S,l(!1)),N=n(T,l(!1)),F=n(A,l(!1)),d=n(W,l(!1)),j=$(o,"localEditEnabled",I,{defaultValue:!1}),p=l(!1),_=t(()=>!V(o.modelValue)&&!b(o.modelValue)&&!isNaN(Number(o.modelValue))?`${o.modelValue}%`:o.modelValue),C=t(()=>o.modelValue&&o.modelValue!==""&&!isNaN(Number(o.modelValue))?Number(o.modelValue):0),R=t(()=>{var s;return{is_progress:!1,...q((s=m.value)==null?void 0:s.meta)}}),a=()=>{c.value||(j.value=!0)},v=()=>{p.value=!0},g=()=>{p.value=!1},h=t(()=>(!r.value||!p.value)&&R.value.is_progress&&!V(o.modelValue)&&!b(o.modelValue)&&!f?Number(parseFloat(o.modelValue.toString()).toFixed(2)):null),L=t(()=>{var s;return((s=m.value.meta)==null?void 0:s.is_progress)&&(d.value||!N.value&&!f.value)}),P=t(()=>!c.value&&(!F.value||r.value));return(s,le)=>{const B=z,U=Y;return e(L)?(i(),u("div",{key:0,class:"nc-cell-field percent-progress w-full py-1 flex",style:w({...e(r)&&!e(d)&&{height:"100%"},...e(d)&&{height:"16px"}})},[k("div",{class:"w-full min-w-[100px]",style:w([{...!e(r)&&{height:"4px"}},{"min-height":"4px"}]),onMouseover:v,onMouseleave:g,onFocus:a,onClick:a},[x(B,{percentage:e(C),"is-show-number":e(r)},H({_:2},[e(P)?{name:"default",fn:J(()=>[k("input",{class:"w-full !border-none !outline-none focus:ring-0 min-h-[10px]",value:s.modelValue,onClick:a,onFocus:a},null,40,Z)]),key:"0"}:void 0]),1032,["percentage","is-show-number"])],36)],4)):(i(),u("div",{key:1,tabindex:e(c)?-1:0,class:Q(["nc-filter-value-select w-full focus:outline-transparent relative z-3",e(c)?"cursor-not-allowed pointer-events-none":""]),onMouseover:v,onMouseleave:g,onFocus:a,onClick:a},[e(h)!==null?(i(),u("div",oe,[x(U,{percent:e(h),size:"small",status:"normal","stroke-color":"#3366FF","trail-color":"#E5E5E5","show-info":!1},null,8,["percent"])])):(i(),u("span",se,K(e(_)?e(_):"Â "),1))],42,ee))}}}),ge=Object.assign(X(ne,[["__scopeId","data-v-833c285f"]]),{__name:"CellPercentReadonly"});export{ge as default};
