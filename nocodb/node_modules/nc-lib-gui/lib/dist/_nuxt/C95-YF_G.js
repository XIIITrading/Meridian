import{dz as L,r as P,L as t,f as $,aQ as S,Z as z,en as E,n as V,j0 as w,e as H,k as C,c as y,o as a,a as o,b as c,w as r,y as h,I as d,aT as p,b9 as m,t as u,d as M,an as q,aq as A,a$ as F,aR as J,N as x,eJ as O,cn as Q,_ as R}from"./DOFFjK0_.js";function U(g){const f=L(),i=P(t(g)),{$state:_}=$();typeof i.value>"u"&&(i.value=_.darkMode.value),f.run(()=>{S(_.darkMode,l=>{typeof i.value>"u"&&(i.value=l)}),z(()=>{const l=t(g);l&&(i.value=l)})}),E(()=>f.stop());const v=V(()=>i.value?w.dark:w.light);return{colors:v,getColorByIndex:l=>v.value[l%v.value.length]}}const Z={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 3xl:grid-cols-8 gap-6 md:gap-y-16"},G={class:"group flex flex-col items-center gap-2"},K=["onClick"],W={class:"prose-lg font-semibold"},X={class:"col-span-10 text-sm xl:text-md"},Y=["innerHTML"],ee=["onClick"],oe={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},te={class:"col-span-4 text-sm xl:text-md"},se={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},ne={class:"col-span-4 text-sm xl:text-md"},ae={class:"prose-lg font-semibold overflow-ellipsis w-full overflow-hidden text-center capitalize"},ie=H({__name:"index",props:{bases:{default:()=>[]}},emits:["deleteBase"],setup(g,{emit:f}){const i=f,{$e:_}=$(),{getColorByIndex:v}=U(!0),l=async e=>{await h(`/nc/${e.id}`),_("a:base:open",{count:g.bases.length})},T=e=>e==null?void 0:e.split(" ").map(s=>s[0]).slice(0,2).join("");return(e,s)=>{const B=C("v-list"),j=C("v-menu"),b=J,D=F,N=O;return a(),y("div",Z,[o("div",G,[c(j,null,{activator:r(({props:n})=>[o("div",{class:"thumbnail hover:after:!opacity-100 hover:shadow-lg hover:to-primary/50",style:{"--thumbnail-color":"#1348ba"},onClick:n.onClick},[s[3]||(s[3]=M(" a ")),(a(),d(p(("iconMap"in e?e.iconMap:t(m)).plus)))],8,K),o("div",W,u(e.$t("title.newProj")),1)]),default:r(()=>[c(B,{class:"!py-0 flex flex-col bg-white rounded-lg shadow-md border-1 border-gray-300 mt-2 ml-2"},{default:r(()=>[o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:s[0]||(s[0]=n=>("navigateTo"in e?e.navigateTo:t(h))("/base/create"))},[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).plus),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",X,u(e.$t("activity.createProject")),1)]),o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:s[1]||(s[1]=n=>("navigateTo"in e?e.navigateTo:t(h))("/base/create-external"))},[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).dtabase),{class:"col-span-2 mr-1 mt-[1px] text-green-500 text-lg"})),o("div",{class:"col-span-10 text-sm xl:text-md",innerHTML:e.$t("activity.createProjectExtended.extDB")},null,8,Y)])]),_:1})]),_:1})]),(a(!0),y(q,null,A(e.bases,(n,I)=>(a(),y("div",{key:n.id,class:"group flex flex-col items-center gap-2"},[o("div",{class:"thumbnail",style:Q({"--thumbnail-color":t(v)(I)}),onClick:k=>l(n)},[M(u(T(n.title))+" ",1),c(N,{"overlay-class-name":"nc-dropdown-base-operations",onClick:s[2]||(s[2]=x(()=>{},["stop"]))},{overlay:r(()=>[c(D,null,{default:r(()=>[c(b,{onClick:x(k=>i("deleteBase",n),["stop"])},{default:r(()=>[o("div",oe,[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).delete),{class:"col-span-2 mr-1 mt-[1px] text-red text-lg"})),o("div",te,u(e.$t("general.delete")),1)])]),_:2},1032,["onClick"]),c(b,{onClick:x(k=>("navigateTo"in e?e.navigateTo:t(h))(`/base/${n.id}`),["stop"])},{default:r(()=>[o("div",se,[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).edit),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",ne,u(e.$t("general.edit")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).arrowDown),{class:"menu-icon"}))]),_:2},1024)],12,ee),o("div",ae,u(n.title||"Untitled"),1)]))),128))])}}}),re=R(ie,[["__scopeId","data-v-0b58e6fe"]]);export{re as default};
