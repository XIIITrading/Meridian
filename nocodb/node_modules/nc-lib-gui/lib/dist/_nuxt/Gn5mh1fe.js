import{e as L,n as D,I,o as l,w as c,c as b,an as M,aq as T,b as w,a as v,t as m,d as O,a3 as V,ag as $,L as f,P as A,cb as K,es as N,a9 as B,f as J,b5 as R,u as G,V as U,r as E,ab as j,dD as z,a4 as C,a5 as F,g as P,i as q,bv as H,aU as Q,bx as W,bG as X,ax as Y,_ as Z}from"./DOFFjK0_.js";import{r,a as n}from"./CJtI8BMq.js";import{L as ee,_ as te}from"./hehmy6V1.js";import{u as oe}from"./CgBhsNh5.js";import"./BvG7Iv4q.js";import"./CyXz1Zkk.js";import"./CPChVVVr.js";const se={class:"font-bold"},re={class:"inline-block"},ae={class:"inline-block text-right"},ne=L({__name:"KeyboardShortcuts",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(x,{emit:y}){const p=y,t=D({get:()=>x.modelValue,set:u=>p("update:modelValue",u)}),h=[{title:"General",shortcuts:[{keys:["ALT","T"],behaviour:"Insert new table"},{keys:["ALT","R"],behaviour:"Insert new row"},{keys:["ALT","C"],behaviour:"Insert new column"},{keys:["ALT","F"],behaviour:"Toggle fullscreen mode"},{keys:["ALT","I"],behaviour:"Invite a member to team"},{keys:["ALT",","],behaviour:"Open Team & Settings"}]},{title:"Grid View",shortcuts:[{keys:[r(),"←"],behaviour:"Jump to previous page in this view"},{keys:[r(),"→"],behaviour:"Jump to next page in this view"},{keys:[r(),"↑"],behaviour:"Jump to last page in this view"},{keys:[r(),"↓"],behaviour:"Jump to first page in this view"},{keys:[n(),"←"],behaviour:"Jump to leftmost column in this row"},{keys:[n(),"→"],behaviour:"Jump to rightmost column in this row"},{keys:[n(),"↑"],behaviour:"Jump to first record in this column (in same page)"},{keys:[n(),"↓"],behaviour:"Jump to last record in this column (in same page)"},{keys:[n(),"C"],behaviour:"Copy cell contents"},{keys:["Enter"],behaviour:"Switch cell in focus to EDIT mode; opens modal / picker if cell is associated with one"},{keys:["Esc"],behaviour:"Exit cell EDIT mode"},{keys:["Delete"],behaviour:"Clear cell"},{keys:["Space"],behaviour:"Expand current row"},{keys:["←","→","↑","↓"],behaviour:"General cell navigation"},{keys:["Tab"],behaviour:"Move to next cell horizontally; if on last cell, move to next row beginning"}]},{title:"Text / Number",shortcuts:[{keys:["←"],behaviour:"Move cursor to the left"},{keys:["→"],behaviour:"Move cursor to the right"},{keys:["↑"],behaviour:"Move cursor to the left"},{keys:["↓"],behaviour:"Move cursor to the right"}]},{title:"SingleSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select the current option"}]},{title:"MultiSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select / deselect the current option"}]},{title:"Date / DateTime",shortcuts:[{keys:[n(),";"],behaviour:"Select current date time"}]},{title:"LinkToAnotherRecord",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"}]},{title:"Checkbox",shortcuts:[{keys:["Enter"],behaviour:"Toggle"}]},{title:"Rating",shortcuts:[{keys:["<0 ~ Max>"],behaviour:"Enter number to toggle rating"}]},{title:"Expanded Form",shortcuts:[{keys:[n(),"Enter"],behaviour:"Save current expanded form item"},{keys:[r(),"→"],behaviour:"Switch to next row"},{keys:[r(),"←"],behaviour:"Switch to previous row"},{keys:[r(),"S"],behaviour:"Save current expanded form item"},{keys:[r(),"N"],behaviour:"Create a new row"}]}];return(u,i)=>{const k=te,_=ee,g=K;return l(),I(g,{visible:f(t),"onUpdate:visible":i[0]||(i[0]=a=>A(t)?t.value=a:null),class:$([{active:f(t)},"p-2"]),width:"max(30vw, 600px)",footer:null,"wrap-class-name":`nc-modal-keyboard-shortcuts ${f(t)?"active":""}`,onKeydown:i[1]||(i[1]=V(a=>t.value=!1,["esc"]))},{title:c(()=>[O(m(u.$t("title.keyboardShortcut")),1)]),default:c(()=>[(l(),b(M,null,T(h,(a,e)=>w(_,{key:e,class:"nc-shortcut-list !mb-5",size:"small",bordered:"","data-source":a.shortcuts},{header:c(()=>[v("div",se,m(a.title),1)]),renderItem:c(({item:o})=>[w(k,null,{default:c(()=>[v("span",re,[(l(!0),b(M,null,T(o.keys,(s,d)=>(l(),b("kbd",{key:d,class:"ml-[1px] mr-[1px] px-[8px] py-[3px] border-b-[3px] uppercase border-1 border-solid border-primary border-opacity-50 rounded"},m(s),1))),128))]),v("span",ae,m(o.behaviour),1)]),_:2},1024)]),_:2},1032,["data-source"])),64))]),_:1},8,["visible","class","wrap-class-name"])}}}),ie=Object.assign(ne,{__name:"DlgKeyboardShortcuts"}),ue=L({__name:"index",setup(x){N();const{t:y}=B(),{$e:p}=J(),t=R(),h=G(),u=U(),{loadProject:i}=u,{toggle:k,toggleHasSidebar:_}=oe("nc-left-sidebar",{hasSidebar:!0,isOpen:!0}),g=E(!1);j("Escape",()=>{g.value=!1},{eventName:"keydown"}),z(async()=>{var d;try{await i()}catch(S){if(((d=S.response)==null?void 0:d.status)===403){C.error(y("msg.error.projectNotAccessible")),h.replace("/");return}C.error(await F(S))}const{type:e,name:o,view:s}=t.query;e&&o&&await h.replace(`/nc/${t.params.baseId}/${e}/${o}${s?`/${s}`:""}`)}),P(()=>{k(!0),_(!0)}),q(()=>{});function a(){p("a:actions:keyboard-shortcut");const e=E(!0),{close:o}=Y(ie,{modelValue:e,"onUpdate:modelValue":s});function s(){e.value=!1,o(1e3)}}return H(document,"keydown",async e=>{if(Q()?e.metaKey:e.ctrlKey)switch(e.key){case"/":W()||(p("c:shortcut",{key:"CTRL + /"}),a());break}}),(e,o)=>{const s=X;return l(),b("div",null,[v("div",null,[w(s)])])}}}),ve=Z(ue,[["__scopeId","data-v-90b1e5dc"]]);export{ve as default};
