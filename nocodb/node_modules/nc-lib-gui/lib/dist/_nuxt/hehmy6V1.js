import{s as se,Z as ve,e as V,bM as X,b as a,bT as C,G as de,r as D,dW as fe,cy as ie,bN as M,ck as ge,cl as S,cA as me,ev as ye,ew as pe,cz as _e,bL as he,aX as xe,av as ee,n as $,cp as te,aQ as Se,co as ae,ex as ne,ey as Ce,bn as be}from"./DOFFjK0_.js";import{_ as Ie}from"./BvG7Iv4q.js";import{u as $e}from"./CPChVVVr.js";function Me(d){var e=se();return ve(function(){e.value=d()},{flush:"sync"}),e}var Pe=function(){return{avatar:C.any,description:C.any,prefixCls:String,title:C.any}};const Le=V({compatConfig:{MODE:3},name:"AListItemMeta",props:Pe(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,w){var n=w.slots,b=X("list",e),o=b.prefixCls;return function(){var I,y,i,P,L,c,f="".concat(o.value,"-item-meta"),r=(I=e.title)!==null&&I!==void 0?I:(y=n.title)===null||y===void 0?void 0:y.call(n),u=(i=e.description)!==null&&i!==void 0?i:(P=n.description)===null||P===void 0?void 0:P.call(n),s=(L=e.avatar)!==null&&L!==void 0?L:(c=n.avatar)===null||c===void 0?void 0:c.call(n),p=a("div",{class:"".concat(o.value,"-item-meta-content")},[r&&a("h4",{class:"".concat(o.value,"-item-meta-title")},[r]),u&&a("div",{class:"".concat(o.value,"-item-meta-description")},[u])]);return a("div",{class:f},[s&&a("div",{class:"".concat(o.value,"-item-meta-avatar")},[s]),(r||u)&&p])}}});var re=Symbol("ListContextKey"),je=["class"],Ee=function(){return{prefixCls:String,extra:C.any,actions:C.array,grid:Object,colStyle:{type:Object,default:void 0}}};const Ae=V({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:Le,props:Ee(),slots:["actions","extra"],setup:function(e,w){var n=w.slots,b=w.attrs,o=de(re,{grid:D(),itemLayout:D()}),I=o.itemLayout,y=o.grid,i=X("list",e),P=i.prefixCls,L=function(){var r,u=((r=n.default)===null||r===void 0?void 0:r.call(n))||[],s;return u.forEach(function(p){pe(p)&&!_e(p)&&(s=!0)}),s&&u.length>1},c=function(){var r,u,s=(r=e.extra)!==null&&r!==void 0?r:(u=n.extra)===null||u===void 0?void 0:u.call(n);return I.value==="vertical"?!!s:!L()};return function(){var f,r,u,s,p,R=b.class,W=fe(b,je),g=P.value,j=(f=e.extra)!==null&&f!==void 0?f:(r=n.extra)===null||r===void 0?void 0:r.call(n),k=(u=n.default)===null||u===void 0?void 0:u.call(n),m=(s=e.actions)!==null&&s!==void 0?s:ie((p=n.actions)===null||p===void 0?void 0:p.call(n));m=m&&!Array.isArray(m)?[m]:m;var _=m&&m.length>0&&a("ul",{class:"".concat(g,"-item-action"),key:"actions"},[m.map(function(E,B){return a("li",{key:"".concat(g,"-item-action-").concat(B)},[E,B!==m.length-1&&a("em",{class:"".concat(g,"-item-action-split")},null)])})]),T=y.value?"div":"li",K=a(T,M(M({},W),{},{class:ge("".concat(g,"-item"),S({},"".concat(g,"-item-no-flex"),!c()),R)}),{default:function(){return[I.value==="vertical"&&j?[a("div",{class:"".concat(g,"-item-main"),key:"content"},[k,_]),a("div",{class:"".concat(g,"-item-extra"),key:"extra"},[j])]:[k,_,me(j,{key:"extra"})]]}});return y.value?a(ye,{flex:1,style:e.colStyle},{default:function(){return[K]}}):K}}});var ze=function(){return{bordered:{type:Boolean,default:void 0},dataSource:C.array,extra:C.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:C.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:C.any,footer:C.any,locale:{type:Object}}},z=V({compatConfig:{MODE:3},name:"AList",Item:Ae,props:he(ze(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,w){var n,b,o=w.slots;xe(re,{grid:ee(e,"grid"),itemLayout:ee(e,"itemLayout")});var I={current:1,total:0},y=X("list",e),i=y.prefixCls,P=y.direction,L=y.renderEmpty,c=$(function(){return e.pagination&&te(e.pagination)==="object"?e.pagination:{}}),f=D((n=c.value.defaultCurrent)!==null&&n!==void 0?n:1),r=D((b=c.value.defaultPageSize)!==null&&b!==void 0?b:10);Se(c,function(){"current"in c.value&&(f.value=c.value.current),"pageSize"in c.value&&(r.value=c.value.pageSize)});var u=[],s=function(l){return function(v,h){f.value=v,r.value=h,c.value[l]&&c.value[l](v,h)}},p=s("onChange"),R=s("onShowSizeChange"),W=function(l){var v;return a("div",{class:"".concat(i.value,"-empty-text")},[((v=e.locale)===null||v===void 0?void 0:v.emptyText)||l("List")])},g=$(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),j=$(function(){return g.value&&g.value.spinning}),k=$(function(){var t="";switch(e.size){case"large":t="lg";break;case"small":t="sm";break}return t}),m=$(function(){var t;return t={},S(t,"".concat(i.value),!0),S(t,"".concat(i.value,"-vertical"),e.itemLayout==="vertical"),S(t,"".concat(i.value,"-").concat(k.value),k.value),S(t,"".concat(i.value,"-split"),e.split),S(t,"".concat(i.value,"-bordered"),e.bordered),S(t,"".concat(i.value,"-loading"),j.value),S(t,"".concat(i.value,"-grid"),!!e.grid),S(t,"".concat(i.value,"-rtl"),P.value==="rtl"),t}),_=$(function(){var t=M(M({},I),{},{total:e.dataSource.length,current:f.value,pageSize:r.value},e.pagination||{}),l=Math.ceil(t.total/t.pageSize);return t.current>l&&(t.current=l),t}),T=$(function(){var t=ae(e.dataSource);return e.pagination&&e.dataSource.length>(_.value.current-1)*_.value.pageSize&&(t=ae(e.dataSource).splice((_.value.current-1)*_.value.pageSize,_.value.pageSize)),t}),K=$e(),E=Me(function(){for(var t=0;t<ne.length;t+=1){var l=ne[t];if(K.value[l])return l}}),B=$(function(){if(e.grid){var t=E.value&&e.grid[E.value]?e.grid[E.value]:e.grid.column;if(t)return{width:"".concat(100/t,"%"),maxWidth:"".concat(100/t,"%")}}}),le=function(l,v){var h,O=(h=e.renderItem)!==null&&h!==void 0?h:o.renderItem;if(!O)return null;var x,A=te(e.rowKey);return A==="function"?x=e.rowKey(l):A==="string"||A==="number"?x=l[e.rowKey]:x=l.key,x||(x="list-item-".concat(v)),u[v]=x,O({item:l,index:v})};return function(){var t,l,v,h,O,x,A,Z=(t=e.loadMore)!==null&&t!==void 0?t:(l=o.loadMore)===null||l===void 0?void 0:l.call(o),G=(v=e.footer)!==null&&v!==void 0?v:(h=o.footer)===null||h===void 0?void 0:h.call(o),q=(O=e.header)!==null&&O!==void 0?O:(x=o.header)===null||x===void 0?void 0:x.call(o),J=ie((A=o.default)===null||A===void 0?void 0:A.call(o)),oe=!!(Z||e.pagination||G),ue=M(M({},m.value),{},S({},"".concat(i.value,"-something-after-last-item"),oe)),U=e.pagination?a("div",{class:"".concat(i.value,"-pagination")},[a(Ie,M(M({},_.value),{},{onChange:p,onShowSizeChange:R}),null)]):null,H=j.value&&a("div",{style:{minHeight:"53px"}},null);if(T.value.length>0){u.length=0;var Y=T.value.map(function(N,Q){return le(N,Q)}),ce=Y.map(function(N,Q){return a("div",{key:u[Q],style:B.value},[N])});H=e.grid?a(Ce,{gutter:e.grid.gutter},{default:function(){return[ce]}}):a("ul",{class:"".concat(i.value,"-items")},[Y])}else!J.length&&!j.value&&(H=W(L.value));var F=_.value.position||"bottom";return a("div",{class:ue},[(F==="top"||F==="both")&&U,q&&a("div",{class:"".concat(i.value,"-header")},[q]),a(be,g.value,{default:function(){return[H,J]}}),G&&a("div",{class:"".concat(i.value,"-footer")},[G]),Z||(F==="bottom"||F==="both")&&U])}}});z.install=function(d){return d.component(z.name,z),d.component(z.Item.name,z.Item),d.component(z.Item.Meta.name,z.Item.Meta),d};export{z as L,Ae as _,Le as a,Me as e};
